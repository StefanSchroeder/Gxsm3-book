% Do not edit this file, it is autogenerated!
% Edit the PlugIn Docu section in the PlugIn source file instead!

% ------------------------------------------------------------

% start of PlugIn docu scan


% Subdirectory: ./plug-ins/scan
% ------------------------------------------------------------

\chapter{Plug-Ins: scan}

% Inclusion of PlugInClassIntro: ./plug-ins/scan/PlugInClass.doc


The \emph{scan} plugins are those used to handle import/export of scan
data -- not to do scanning as it may sound like, these things are
located in the \emph{control} section.

% PlugIn: ./plug-ins/scan/sdfimport.C
% ------------------------------------------------------------

\section{Import of Surface Data Format files}
% Name=sdfimport
% Author=Stefan Schroeder
% Email=stefan\_fkp@users.sf.net
% Menupath=File/Import/SDF-import

\label{pi:sdfimport}
\subsubsection{Description}

\label{plugins:sdfimport}
The \GxsmEmph{sdfimport} plug-in supports reading files
as defined by the surfstand group (search internet for 'surfstand'),
a group, sponsored by the EU to develop a basis for 3D surface
roughness standards.

\subsubsection{Usage}

The plug-in is called by \GxsmMenu{File/Import/SDF-import}.

\GxsmNote{
No endianess independent code -- no cross platform data exchange possible.
}

\subsubsection{Known Bugs}

The scaling of the data, especially in Z direction is not well tested.

\index{C-PlugIn!scan/sdfimport.C}
\index{PlugIn!sdfimport}
\index{GXSM-Menu!File/Import/SDF-import}
\subsubsection{Info for Plug-In: File/Import/SDF-import }
\begin{tabbing}
Plug-In name:   \= Stefan Schroedersdfimport \= Email: \= x \kill
Plug-In name:   \> sdfimport\>  File:  \> scan/sdfimport.C\\
Author:	        \> Stefan Schroeder\>  Email: \> stefan\_fkp@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/scan/v5d_export.C
% ------------------------------------------------------------

\section{Import/Export of old (G-) dat files}
% Name=v5d\_Export
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=File/Import/G-dat

\label{pi:v5dExport}
\subsubsection{Description}

\label{plugins:v5d_export}
The \GxsmEmph{g\_dat\_im\_export} plug-in supports reading and writing of
the old \GxsmFile{.dat} fileformat used in Hannover at former times. It was used by
the very first xxsm, pmstm and even older OS/2 software in Hannover, mostly by
K\"ohler et al. Also the so called \GxsmEmph{gnutools} are can use this 16-bit data format. 
To distiguish different dat files, I call it \GxsmEmph{G-dat}. 

\subsubsection{Usage}

The plug-in is called by \GxsmMenu{File/Import/G-dat}.

\subsubsection{Known Bugs}

Not yet tested.

\index{C-PlugIn!scan/v5d\_export.C}
\index{PlugIn!v5d\_Export}
\index{GXSM-Menu!File/Import/G-dat}
\subsubsection{Info for Plug-In: File/Import/G-dat }
\begin{tabbing}
Plug-In name:   \= Percy Zahlv5d\_Export \= Email: \= x \kill
Plug-In name:   \> v5d\_Export\>  File:  \> scan/v5d\_export.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/scan/g_dat_im_export.C
% ------------------------------------------------------------

\section{Import/Export of old (G-) dat files}
% Name=G\_dat\_Im\_Export
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=File/Import/G-dat

\label{pi:GdatImExport}
\subsubsection{Description}

\label{plugins:g_dat_im_export}
The \GxsmEmph{g\_dat\_im\_export} plug-in supports reading and writing of
the old \GxsmFile{.dat} fileformat used in Hannover at former times. It was used by
the very first xxsm, pmstm and even older OS/2 software in Hannover, mostly by
K\"ohler et al. Also the so called \GxsmEmph{gnutools} are can use this 16-bit data format. 
To distiguish different dat files, I call it \GxsmEmph{G-dat}. 

\subsubsection{Usage}

The plug-in is called by \GxsmMenu{File/Import/G-dat}.

\subsubsection{Known Bugs}

Not yet tested.

\index{C-PlugIn!scan/g\_dat\_im\_export.C}
\index{PlugIn!G\_dat\_Im\_Export}
\index{GXSM-Menu!File/Import/G-dat}
\subsubsection{Info for Plug-In: File/Import/G-dat }
\begin{tabbing}
Plug-In name:   \= Percy ZahlG\_dat\_Im\_Export \= Email: \= x \kill
Plug-In name:   \> G\_dat\_Im\_Export\>  File:  \> scan/g\_dat\_im\_export.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/scan/v5d_v5d.C
% ------------------------------------------------------------

% PlugIn: ./plug-ins/scan/ascii_data_im_export.C
% ------------------------------------------------------------

\section{ASCII data file Import/Export}
% Name=ascii\_data\_im\_export
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=File/Import/ASCII

\label{pi:asciidataimexport}
\subsubsection{Description}

\label{plugins:ascii_data_im_export}
The \GxsmEmph{ascii\_data\_im\_export} plug-in supports reading of ASCII data files.

It auto detects the text header "Reuben-NSNOM" as described below -- if this fails, it attempts to auto read a plain matrix of values, line by line.
Space or "CSV" separated numbers, dimensions are auto determined by max elements per line and number of lines found. File extension must be ".asc" or ".csv".

Special but simple text header "Reuben-NSNOM" is suggested. Here is a sample file:

{\tiny
\begin{verbatim}
scan length = 25.000000
points/line = 25
point spacing = 1.041667
# lines =  25
line spacing = 1.041667
points in average = 1
velocity = 2.000000
lock-in time constant (msec) = 30.000000
X origin = -1883.596000
Y origin = 1321.116000

end

-1.5850 -1.5889 -1.5967 -1.5737 -1.5610 -1.5581 -1.5518 -1.5537 -1.9194 -2.2808 -2.2148 -2.1709 -2.1382 -2.1367 -2.1123 -2.0864 -2.0684 -2.0498 -2.0376 -2.0171 -1.9990 -1.9912 -1.9824 -1.9741 -1.9575
-1.5796 -1.5811 -1.5684 -1.5718 -1.5625 -1.5552 -1.5425 -1.5488 -1.9272 -2.2764 -2.2104 -2.1660 -2.1387 -2.1294 -2.1094 -2.0801 -2.0645 -2.0464 -2.0337 -2.0229 -1.9961 -1.9883 -1.9824 -1.9717 -1.9604
-1.5776 -1.5747 -1.5854 -1.5718 -1.5610 -1.5488 -1.5400 -1.5474 -1.9253 -2.2651 -2.2124 -2.1597 -2.1338 -2.1309 -2.0996 -2.0728 -2.0601 -2.0420 -2.0293 -2.0205 -1.9839 -1.9839 -1.9790 -1.9683 -1.9561
-1.5688 -1.5840 -1.5825 -1.5640 -1.5518 -1.5488 -1.5361 -1.5430 -1.9395 -2.2607 -2.2070 -2.1548 -2.1309 -2.1250 -2.0942 -2.0708 -2.0557 -2.0391 -2.0264 -2.0156 -1.9912 -1.9810 -1.9712 -1.9653 -1.9502
-1.5674 -1.5776 -1.5776 -1.5610 -1.5474 -1.5459 -1.5288 -1.5347 -1.9136 -2.2549 -2.1963 -2.1519 -2.1250 -2.1182 -2.0913 -2.0664 -2.0537 -2.0327 -2.0254 -2.0098 -1.9897 -1.9780 -1.9687 -1.9590 -1.9487
-1.5610 -1.5732 -1.5732 -1.5566 -1.5439 -1.5391 -1.5259 -1.5337 -1.9502 -2.2471 -2.1919 -2.1445 -2.1196 -2.1123 -2.0850 -2.0620 -2.0420 -2.0278 -2.0146 -2.0054 -1.9868 -1.9712 -1.9609 -1.9531 -1.9424
-1.5610 -1.5640 -1.5684 -1.5547 -1.5381 -1.5332 -1.5229 -1.5308 -1.9697 -2.2422 -2.1782 -2.1387 -2.1157 -2.1094 -2.0820 -2.0576 -2.0405 -2.0220 -2.0146 -2.0034 -1.9805 -1.9687 -1.9580 -1.9502 -1.9390
-1.5562 -1.5625 -1.5640 -1.5483 -1.5308 -1.5283 -1.5171 -1.5107 -1.9854 -2.2378 -2.1797 -2.1367 -2.1123 -2.1030 -2.0742 -2.0542 -2.0337 -2.0171 -2.0098 -1.9961 -1.9741 -1.9624 -1.9517 -1.9453 -1.9316
-1.5503 -1.5562 -1.5610 -1.5410 -1.5283 -1.5244 -1.5073 -1.5181 -1.9443 -2.2300 -2.1768 -2.1309 -2.1094 -2.1030 -2.0664 -2.0464 -2.0312 -2.0146 -2.0020 -1.9897 -1.9717 -1.9561 -1.9497 -1.9409 -1.9316
-1.5459 -1.5532 -1.5581 -1.5400 -1.5239 -1.5171 -1.5073 -1.5044 -1.9302 -2.2227 -2.1738 -2.1260 -2.1021 -2.0967 -2.0693 -2.0435 -2.0264 -2.0083 -1.9990 -1.9849 -1.9653 -1.9531 -1.9453 -1.9395 -1.9253
-1.5410 -1.5483 -1.5483 -1.5317 -1.5181 -1.5181 -1.5015 -1.4585 -1.9780 -2.2178 -2.1670 -2.1216 -2.0972 -2.0894 -2.0645 -2.0391 -2.0249 -2.0054 -1.9941 -1.9819 -1.9624 -1.9512 -1.9404 -1.9302 -1.9224
-1.5337 -1.5410 -1.5425 -1.5244 -1.5137 -1.5132 -1.4951 -1.4966 -1.9224 -2.2114 -2.1597 -2.1172 -2.0957 -2.0864 -2.0601 -2.0327 -2.0171 -1.9990 -1.9912 -1.9741 -1.9561 -1.9453 -1.9375 -1.9287 -1.9165
-1.5322 -1.5332 -1.5425 -1.5210 -1.5107 -1.5093 -1.4907 -1.4917 -1.9575 -2.2061 -2.1567 -2.1104 -2.0894 -2.0845 -2.0527 -2.0278 -2.0142 -1.9971 -1.9868 -1.9712 -1.9526 -1.9409 -1.9316 -1.9238 -1.9116
-1.5308 -1.5181 -1.5361 -1.5088 -1.5059 -1.5015 -1.4873 -1.4873 -1.9653 -2.2036 -2.1523 -2.1060 -2.0864 -2.0786 -2.0464 -2.0229 -2.0142 -1.9941 -1.9790 -1.9634 -1.9482 -1.9360 -1.9297 -1.9194 -1.9058
-1.5259 -1.5229 -1.5317 -1.5181 -1.4985 -1.4922 -1.4780 -1.4834 -1.9834 -2.1978 -2.1509 -2.1021 -2.0820 -2.0708 -2.0420 -2.0176 -2.0054 -1.9868 -1.9746 -1.9624 -1.9453 -1.9297 -1.9253 -1.9131 -1.9009
-1.5229 -1.5225 -1.5273 -1.5117 -1.4873 -1.4937 -1.4780 -1.4785 -2.0308 -2.1885 -2.1489 -2.0952 -2.0757 -2.0679 -2.0405 -2.0127 -2.0010 -1.9819 -1.9712 -1.9561 -1.9395 -1.9282 -1.9180 -1.9116 -1.9009
-1.5244 -1.5054 -1.5181 -1.4937 -1.4771 -1.4873 -1.4722 -1.4766 -2.0483 -2.1855 -2.1401 -2.0923 -2.0708 -2.0591 -2.0327 -2.0098 -1.9976 -1.9761 -1.9697 -1.9546 -1.9365 -1.9243 -1.9175 -1.9087 -1.8950
-1.5229 -1.4893 -1.5103 -1.4180 -1.4687 -1.4771 -1.4687 -1.4722 -2.0327 -2.1812 -2.1279 -2.0864 -2.0635 -2.0542 -2.0234 -2.0000 -1.9941 -1.9717 -1.9624 -1.9487 -1.9331 -1.9175 -1.9102 -1.9023 -1.8887
-1.4497 -1.4687 -1.4858 -1.4414 -1.4614 -1.4736 -1.4614 -1.4644 -2.0039 -2.1704 -2.1187 -2.0757 -2.0605 -2.0493 -2.0229 -2.0020 -1.9897 -1.9683 -1.9590 -1.9443 -1.9282 -1.9136 -1.9087 -1.8979 -1.8843
-1.5229 -1.4478 -1.4917 -1.4893 -1.4766 -1.4736 -1.4497 -1.4429 -1.9790 -2.1523 -2.1050 -2.0786 -2.0566 -2.0513 -2.0205 -1.9990 -1.9854 -1.9653 -1.9590 -1.9409 -1.9243 -1.9131 -1.9014 -1.8921 -1.8809
-1.5088 -1.3389 -1.4658 -1.4321 -1.4687 -1.4507 -1.4385 -1.4121 -2.0327 -2.1611 -2.1182 -2.0728 -2.0513 -2.0420 -2.0127 -1.9912 -1.9790 -1.9634 -1.9482 -1.9346 -1.9194 -1.9058 -1.8979 -1.8877 -1.8750
-1.4707 -1.4678 -1.4507 -1.4443 -1.4707 -1.4067 -1.4521 -1.4463 -2.0117 -2.1494 -2.1123 -2.0684 -2.0508 -2.0376 -2.0083 -1.9897 -1.9741 -1.9590 -1.9453 -1.9302 -1.9160 -1.8994 -1.8921 -1.8857 -1.8706
-1.4565 -1.5117 -1.4946 -1.4824 -1.4497 -1.4541 -1.4463 -1.4189 -2.0576 -2.1431 -2.0894 -2.0664 -2.0435 -2.0264 -2.0034 -1.9824 -1.9663 -1.9531 -1.9409 -1.9243 -1.9097 -1.8979 -1.8887 -1.8794 -1.8647
-1.4893 -1.5044 -1.4858 -1.4658 -1.4722 -1.4551 -1.4307 -1.2671 -2.0464 -2.1357 -2.0967 -2.0576 -2.0356 -2.0205 -1.9990 -1.9780 -1.9683 -1.9487 -1.9365 -1.9194 -1.9067 -1.8931 -1.8843 -1.8735 -1.8628
-1.4902 -1.5044 -1.4824 -1.4707 -1.4663 -1.4404 -1.4141 -1.3501 -2.1660 -2.1338 -2.0952 -2.0513 -2.0356 -2.0269 -1.9961 -1.9717 -1.9609 -1.9453 -1.9297 -1.9160 -1.9009 -1.8877 -1.8765 -1.8701 -1.8613
\end{verbatim}
}

\subsubsection{Usage}

The plug-in is called by \GxsmMenu{File/Import/ASCII}. 
Only import direction is implemented.

%% OptPlugInKnownBugs
%Not yet tested.

\index{C-PlugIn!scan/ascii\_data\_im\_export.C}
\index{PlugIn!ascii\_data\_im\_export}
\index{GXSM-Menu!File/Import/ASCII}
\subsubsection{Info for Plug-In: File/Import/ASCII }
\begin{tabbing}
Plug-In name:   \= Percy Zahlascii\_data\_im\_export \= Email: \= x \kill
Plug-In name:   \> ascii\_data\_im\_export\>  File:  \> scan/ascii\_data\_im\_export.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/scan/omicron_io.C
% ------------------------------------------------------------

\section{Import/export of Scala SPM files (Omicron)}

% Name=Omicron\_IO

% Author=Andreas Klust

% Email=klust@users.sf.net

% Menupath=File/Import/Omicron\_SPM\_Import

\label{pi:OmicronIO}
\subsubsection{Description}


This plug-in is responsible for the import and export of data in the SPM
format used by Omicron's Scala software.  It supports both conventional,
two-dimensional data such as topographic images and gridded spectroscopic
data.  Data acquired using the point spectroscopy mode of the Scala system
is not written in the SPM format.  Therefore, point spectroscopy data is
ignored by this plug-in.

In the Scala SPM format, data is saved in two parts:  Firstly, the data
itself as binary file.  Secondly, additional information, e.g.\ scan size,
in an extra ASCII file with the filename suffix ".par".  This parameter file
can contain information on several images.  Therefore, for importing SPM
files, the binary file must be selected.  The parameter file contains many
comments making it human readable.

\subsubsection{Usage}

When the Omicron\_IO plug-in is installed, Scala SPM files can be loaded like
any other files supported by \Gxsm.  Alternatively, 
\GxsmMenu{File/Import/Omicron SPM Import} can be used.


\subsubsection{Known Bugs}

Exporting data in the Scala SPM format is not yet implemented.

\index{C-PlugIn!scan/omicron\_io.C}
\index{PlugIn!Omicron\_IO}
\index{GXSM-Menu!File/Import/Omicron\_SPM\_Import}
\subsubsection{Info for Plug-In: File/Import/Omicron\_SPM\_Import }
\begin{tabbing}
Plug-In name:   \= Andreas KlustOmicron\_IO \= Email: \= x \kill
Plug-In name:   \> Omicron\_IO\>  File:  \> scan/omicron\_io.C\\
Author:	        \> Andreas Klust\>  Email: \> klust@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/scan/UK2k_import.C
% ------------------------------------------------------------

\section{UK2000 v3.4 import plug-in}

% Name=UK2k\_import

% Author=Juan de la Figuera

% Email=juan.delafiguera@uam.es

% Menupath=File/Import/Uk2k import

\label{pi:UK2kimport}
\subsubsection{Description}


This plugin is responsible for reading UK2000 v3.4 images, with the
following limitations so far: only topography, and only the forward
scan. To add support for the back scan would be pretty simple, if
someone is interested. This STM electronics is a DSP based system with
transputers as CPUs (yes, it has several). It was made by Uwe Knipping
from Arizona State University and sold by CVS (Custom Vacuum Systems
Ltd.). There are a few systems around, still running after more than
10 years. The PC version of the electronics are the basis of the DSP
STM unit sold (and further developed) by Molecular Imaging.

The files are an ASCII file with the scan details (extension .stp),
and an 16bit binary dump of the image (extension .std).

\subsubsection{Usage}

Registers itself for loading files with the filename suffix ".std".

\index{C-PlugIn!scan/UK2k\_import.C}
\index{PlugIn!UK2k\_import}
\index{GXSM-Menu!File/Import/Uk2k import}
\subsubsection{Info for Plug-In: File/Import/Uk2k import }
\begin{tabbing}
Plug-In name:   \= Juan de la FigueraUK2k\_import \= Email: \= x \kill
Plug-In name:   \> UK2k\_import\>  File:  \> scan/UK2k\_import.C\\
Author:	        \> Juan de la Figuera\>  Email: \> juan.delafiguera@uam.es\\
\end{tabbing}

% PlugIn: ./plug-ins/scan/rhk2000_import.C
% ------------------------------------------------------------

\section{Import Tool for RHK STM-200}

% Name=RHK2000-Import

% Author=Peter Wahl

% Email=wahl@fkf.mpg.de

% Menupath=File/Import/RHK STM-200 import 

\label{pi:RHK2000-Import}
\subsubsection{Description}


This plug-in is responsible for importing files saved by RHK STM-2000 systems.
The STM-2000 system is the STM electronics manufactured by RHK based on SGI 
workstations.

\subsubsection{Usage}

Registers itself for loading files with the filename suffix ".Stm".

\index{C-PlugIn!scan/rhk2000\_import.C}
\index{PlugIn!RHK2000-Import}
\index{GXSM-Menu!File/Import/RHK STM-200 import }
\subsubsection{Info for Plug-In: File/Import/RHK STM-200 import  }
\begin{tabbing}
Plug-In name:   \= Peter WahlRHK2000-Import \= Email: \= x \kill
Plug-In name:   \> RHK2000-Import\>  File:  \> scan/rhk2000\_import.C\\
Author:	        \> Peter Wahl\>  Email: \> wahl@fkf.mpg.de\\
\end{tabbing}

% PlugIn: ./plug-ins/scan/bin_import.C
% ------------------------------------------------------------

\section{Binary file Import}
% Name=bin\_import
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=File/Import/Binary

\label{pi:binimport}
\subsubsection{Description}

\label{plugins:bin_import}
The \GxsmEmph{Binary} plug-in supports reading of a simple binary volumetric data file format.

Data Set File Format:

The data files for rectilinearly sampled scalar data are written in
the following format (all fields big-endian binary): 

Resolution (number of grid points in x, y and z direction): three
32-bit int values. Let's refer to them as numX, numY, numZ.

Size of saved border around volume: one 32-bit int value. This value
is not used in the provided data sets and is set to zero.

True size (extent in x, y and z direction in some unit of
measurement): three 32-bit float values. Treat these fields like a
sort of "3D aspect ratio" - usually, medical data sets are sampled as
a stack of slices, where the distances between slices is different
from the distances between pixels in a slice.

Data values: All numX*numY*numZ data values of the volume stored as
unsigned char values in the range (0 .. 256). The values are stored in
x, y, z order, i.e., x varies slowest, z varies fastest. In other
words, they are stored in the memory order of a standard C
three-dimensional array unsigned char values\[numX\]\[numY\]\[numZ\].

\subsubsection{Usage}

The plug-in is called by \GxsmMenu{File/Import/Binary}. 
Only import direction is implemented.

%% OptPlugInKnownBugs
%Not yet tested.

\index{C-PlugIn!scan/bin\_import.C}
\index{PlugIn!bin\_import}
\index{GXSM-Menu!File/Import/Binary}
\subsubsection{Info for Plug-In: File/Import/Binary }
\begin{tabbing}
Plug-In name:   \= Percy Zahlbin\_import \= Email: \= x \kill
Plug-In name:   \> bin\_import\>  File:  \> scan/bin\_import.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/scan/nanoimport.C
% ------------------------------------------------------------

\section{Import of Digital Instruments Nanoscope files}
% Name=nanoimport
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=File/Import/Nano Scope

\label{pi:nanoimport}
\subsubsection{Description}

The \GxsmEmph{nanoimport} plug-in supports reading files of Digital
Instruments' Nanoscope systems (Veeco Metrology Group).

This plugin can import original Nanoscope-data files, for older
versions below 0x04300000 (Version: 0x04220200 tested) single channel
data is assumed, for all newer versions (Version: 0x04320003,
0x04430006 tested) multiple channels of data can be present and are
all imported at once using different channels in GXSM. Version below
0x03000000 are rejected (do not know about). The channel type is shown
as scan title. The full ASCII header is appended to the comment.

\subsubsection{Usage}

The plug-in is called by \GxsmMenu{File/Import/Nano Scope}.

\subsubsection{Known Bugs}

In some cases the Z-scaling is wrong. The reason for that is, I did
not yet figured out the correct way how to interpret several numbers
given in the di-file header. Any help to fix it is welcome! -- I
changed the calculation once more, look OK for newew files and is
still off for some others, I hate it\dots

According to the manual (V4.1):
\[ H_z = \frac{\text{DAC-value}}{65536} Z_{\text{scale value}} \]

\index{C-PlugIn!scan/nanoimport.C}
\index{PlugIn!nanoimport}
\index{GXSM-Menu!File/Import/Nano Scope}
\subsubsection{Info for Plug-In: File/Import/Nano Scope }
\begin{tabbing}
Plug-In name:   \= Percy Zahlnanoimport \= Email: \= x \kill
Plug-In name:   \> nanoimport\>  File:  \> scan/nanoimport.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/scan/rhk_spm32_import.C
% ------------------------------------------------------------

\section{Import of RHK SPM32 files (STM-1000 electronics).}
% Name=rhk\_spm32\_import
% Author=Andreas klust
% Email=klust@users.sf.net
% Menupath=File/Import/RHK SPM32

\label{pi:rhkspm32import}
\subsubsection{Description}

\label{plugins:rhk_spm32_import} 

The \GxsmEmph{rhk\_spm32\_import} plug-in supports reading of files
generated with the SPM32 software distributed by RHK Technology Inc.\
(Troy, MI, USA).  This is the software that is usually used to control
the RHK STM-1000 electronics (unless you use \Gxsm to control it :-).

\subsubsection{Usage}


The plug-in is called by \GxsmMenu{File/Import/RHK SPM32}.  It is also
automatically invoked by \Gxsm when opening RHK SPM32 files.

\subsubsection{Known Bugs}


Not yet all very well tested.  At the moment, it is somewhat
restricted: i) SPM32 files can contain several pages with data from,
e.g., forward and backward scans.  The plug-in only reads the first
page.  ii) only pages with pure images can be imported, no
spectroscopy data.

\index{C-PlugIn!scan/rhk\_spm32\_import.C}
\index{PlugIn!rhk\_spm32\_import}
\index{GXSM-Menu!File/Import/RHK SPM32}
\subsubsection{Info for Plug-In: File/Import/RHK SPM32 }
\begin{tabbing}
Plug-In name:   \= Andreas klustrhk\_spm32\_import \= Email: \= x \kill
Plug-In name:   \> rhk\_spm32\_import\>  File:  \> scan/rhk\_spm32\_import.C\\
Author:	        \> Andreas klust\>  Email: \> klust@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/scan/external_converter.C
% ------------------------------------------------------------

\section{external converter }
% Name=external\_converter
% Author=Thorsten Wagner
% Email=stm@users.sf.net
% Menupath=Tools/external\_converter 
\label{pi:externalconverter}
\subsubsection{Description}

Simple plugin to call an external converter
\subsubsection{Usage}

Registers itself. Select source file,a destination folder, a suitable
suffix, the external converter (full path) and press okey. You can
also path some options to the external program
\index{C-PlugIn!scan/external\_converter.C}
\index{PlugIn!external\_converter}
\index{GXSM-Menu!Tools/external\_converter }
\subsubsection{Info for Plug-In: Tools/external\_converter  }
\begin{tabbing}
Plug-In name:   \= Thorsten Wagnerexternal\_converter \= Email: \= x \kill
Plug-In name:   \> external\_converter\>  File:  \> scan/external\_converter.C\\
Author:	        \> Thorsten Wagner\>  Email: \> stm@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/scan/v5d_binio.C
% ------------------------------------------------------------

% PlugIn: ./plug-ins/scan/png_im_export.C
% ------------------------------------------------------------

\section{PNG image Import/Export}
% Name=png\_Im\_Export
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=File/Import/PNG

\label{pi:pngImExport}
\subsubsection{Description}

The \GxsmEmph{png\_im\_export} plug-in allows reading and writing of images using the
Portable Network Graphics (PNG) image format. 

The currently set palette is used if non is used or available a grey
scale image is generated. The current set view mode
(Direct/Quick/...) is used for automatic data transformation. The resulting image will
appear like the active view but it has the size of the original scan (no zoom/quench applies).

A special feature: If the scan has type "RGBA" (4 layers) the raw data of the channels is written
without any transformation or scaling to the PNG file in RGB mode.

In case of image series/movies this export filter automatically generates a series of png images: \GxsmFile{ bild0001.png \dots bild0099.png}.
To import image series replace 0000 \dots 0099 in your file name by any valid C-format string like \GxsmFile{bild\%04d.png}.

To scale (call AutoDisp function) each frame incude the string \"autodisp\" in the export filename.

\subsubsection{Usage}

The plug-in is called by \GxsmMenu{File/Import/PNG} and \GxsmMenu{File/Export/PNG}.

%% OptPlugInKnownBugs

\subsubsection{References}

pnglib documentation: \GxsmWebLink{www.libpng.org/pub/png/libpng-manual.html}


\index{C-PlugIn!scan/png\_im\_export.C}
\index{PlugIn!png\_Im\_Export}
\index{GXSM-Menu!File/Import/PNG}
\subsubsection{Info for Plug-In: File/Import/PNG }
\begin{tabbing}
Plug-In name:   \= Percy Zahlpng\_Im\_Export \= Email: \= x \kill
Plug-In name:   \> png\_Im\_Export\>  File:  \> scan/png\_im\_export.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/scan/WSxM_header.C
% ------------------------------------------------------------

% PlugIn: ./plug-ins/scan/primitiveimexport.C
% ------------------------------------------------------------

\section{Import/export of non-SPM file formats}

% Name=primitiveimexport

% Author=Percy Zahl

% Email=zahl@users.sf.net

% Menupath=File/Import/Primitive Auto Import and File/Export/Primitive Auto Export

\label{pi:primitiveimexport}
\subsubsection{Description}

 This plug-in is responsible for importing and exporting a wide variety of
 file formats.  Most of them are file formats not specifically designed for
 storage of scientific data such as the Portable Graymap (pgm) format.
 Nethertheless, the support of these formats allows to exchange data between
 \Gxsm\ and countless other programs, e.g.\ The GIMP for the final "touch up"
 of images.

\subsubsection{Supported file formats}


 The file formats supported by the \GxsmEmph{primitiveimexport} plug-in are
 listed in Tab.\ \ref{tab:primitiveimexport:formats}.  The ".dat" format
 refers to the old, STM specific data format used by the OS/2 software PMSTM
 and the Linux based Xxsm, both predecessors of \Gxsm.  The ".d2d" format is
 used for SPA-LEED by the SPA V program.  The primitive formats ".byt",
 ".sht", ".flt", and ".dbl" are described in more detail below.

 \begin{table}
 \begin{tabular}[h]{l|l}
 Suffix & description \\\hline\hline
 .dat   & (old) STM data format, used by e.g.\ PMSTM, dicontinued.\\
 .byt   & byte format: raw 8 Bit data\\
 .sht   & Short format: raw 16 Bit data\\
 .flt   & Float format: floats, single precision\\
 .dbl   & Double format: floats, double precision\\
 .pgm   & Portable Greymap (P5) format\\
 \hline\hline
 \multicolumn{2}{l}{Read-only supported formats:}\\
 \hline
 .d2d   & (old) SPA--LEED data format, used by SPA V\\
 .nsc   & a very old version of nanoscope import filter (obsolete),\\
 & use the new Nanoscope Import PlugIn!\\
 .h16   & Markus/Mats simulations program data import \\
 \hline\hline
 \multicolumn{2}{l}{Write-only supported formats:}\\
 \hline
 .tga   & TARGA bitmap format (8, 16 and 24 Bit colordepth)\\
 & 24bit: only option to write color images (usage of palette)\\
 \end{tabular}  
 \caption{file formats supported by the \GxsmEmph{primitiveimexport}
 plug-in.}
 \label{tab:primitiveimexport:formats}
 \end{table}

\subsubsection{The primitive file formats}

 The primitive file formats ".byt", ".sht", ".flt", and ".dbl" are supported
 by the \GxsmEmph{primitiveimexport} plug-in for both reading and writing.
 These file formats have a simple structure and therefore present a
 considerable alternative to more complex formats for quickly hacked
 programs.  They are binary files in PC byte order starting with two 16 bit
 integer numbers denoting the number of rows and columns in the image.
 Following them, the image data is written in raw binary form using the
 following data types to represent a single pixel:  char (".byt"), 16 bit
 integer (".sht"), single precision floating point (".flt"), or double
 precision floating point (".dbl") numbers.

 For the manipulation of data in these formats, the \Gxsm\ project provides
 an extensive set of small tools included in the \Gxsm\ source code.  For
 instance, these tools include programs to create, filter, and doing simple
 algebra operations.  All these tools are designed for the use in shell
 scripts.

\subsubsection{Usage}

 The file formats are recognized by their filename suffix. For instance,
 exporting to \GxsmFile{myimage.pgm} results in a greymap image in the binary
 Portable Greymap (pgm) format.  For other supported formats and their
 correspondent suffixes see Tab.\ \ref{tab:primitiveimexport:formats}.

\GxsmHint{
%
%
%\begin{verbatim}
%pzahl@charon:~$ nctopng --help
%Usage: nctopng gxsmncfile.nc myimage.png 
%       [new_nx] [-v | --verbose]
%\end{verbatim}
}

%% OptPlugInKnownBugs

\index{C-PlugIn!scan/primitiveimexport.C}
\index{PlugIn!primitiveimexport}
\index{GXSM-Menu!File/Import/Primitive Auto Import and File/Export/Primitive Auto Export}
\subsubsection{Info for Plug-In: File/Import/Primitive Auto Import and File/Export/Primitive Auto Export }
\begin{tabbing}
Plug-In name:   \= Percy Zahlprimitiveimexport \= Email: \= x \kill
Plug-In name:   \> primitiveimexport\>  File:  \> scan/primitiveimexport.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/scan/converter.C
% ------------------------------------------------------------

\section{Converter }
% Name=Converter
% Author=Kristan Temme and Thorsten Wagner
% Email=stm@users.sf.net
% Menupath=Tools/Converter 
\label{pi:Converter}
\subsubsection{Description}

Simple file conversion utility, which converts files all kinds of data files supported by GXSM-2
\subsubsection{Usage}

Registers itself for converting files. Just choose the right file extensions for the conversion (e.g. .nc to .top). You can also select the source and destination folder by the browse buttons.
\index{C-PlugIn!scan/converter.C}
\index{PlugIn!Converter}
\index{GXSM-Menu!Tools/Converter }
\subsubsection{Info for Plug-In: Tools/Converter  }
\begin{tabbing}
Plug-In name:   \= Kristan Temme and Thorsten WagnerConverter \= Email: \= x \kill
Plug-In name:   \> Converter\>  File:  \> scan/converter.C\\
Author:	        \> Kristan Temme and Thorsten Wagner\>  Email: \> stm@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/scan/uksoft2001_im_export.C
% ------------------------------------------------------------

\section{UKSOFT/U-view Import (ELMITEC LEEM)}
% Name=uksoft2001\_im\_Export
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=File/Import/UKSOFT

\label{pi:uksoft2001imExport}
\subsubsection{Description}

The \GxsmEmph{uksoft\_im\_export} plug-in allows importing of single
and multidimensional sets of \GxsmFile{.dat} and multiple image/movie
\GxsmFile{.dav} files in the UKSOFT-2001 data format generated by
U-view/Elmitec-LEEM Control Software.

It is recommended to configure \GxsmPref{Instrument}{Type} to ''CCD''
to make use of a simplified CCD-Hi/Low scaling method. Use the
''Direct'' view mode.

\subsubsection{Usage}

The plug-in is called by \GxsmMenu{File/Import/UKSOFT}.
Select a single \GxsmFile{.dat} or \GxsmFile{.dav} file.

For automatic reading of multidimensional image series the files has
to be in one director and the file names have to be numbered in one or
two dimensions like this or similar:

\begin{verbatim}
RuO2_CO_10mu_000_000.dat
RuO2_CO_10mu_000_001.dat
RuO2_CO_10mu_000_002.dat
RuO2_CO_10mu_001_000.dat
RuO2_CO_10mu_001_001.dat
RuO2_CO_10mu_001_002.dat
...
\end{verbatim}


Select the first file and replace the relevant digits by a valid
integer C format string identifier, i.e.:
\GxsmNote{GTK3: use CTRL-L after selecting a file to allow (show the edit field) edit the file pattern!!}

\begin{verbatim}
RuO2_CO_10mu_%03d_%03d.dat
\end{verbatim}

Click OK and the Multi-File import setup dialog will show up. Setup
the number of images for each dimension (Max Index) to read and use
Offset and Step for optional skipping of images. If only one index is
present, it is assumed to be the Layer (Value) dimension.

\GxsmScreenShotDual{UKSOFT2001_file_dialog}{UKSOFT/U-view import file dialog}{UKSOFT2001_multifile}{ setup for multi dimensional image processing}

%% OptPlugInKnownBugs

%% OptPlugInRefs


\index{C-PlugIn!scan/uksoft2001\_im\_export.C}
\index{PlugIn!uksoft2001\_im\_Export}
\index{GXSM-Menu!File/Import/UKSOFT}
\subsubsection{Info for Plug-In: File/Import/UKSOFT }
\begin{tabbing}
Plug-In name:   \= Percy Zahluksoft2001\_im\_Export \= Email: \= x \kill
Plug-In name:   \> uksoft2001\_im\_Export\>  File:  \> scan/uksoft2001\_im\_export.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

\GxsmClearpage

% PlugIn: ./plug-ins/scan/spa4_d2d_im_export.C
% ------------------------------------------------------------

\section{SPA--LEED (SPA4) d2d data file Import}
% Name=spa4\_im\_export
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=File/Import/SPA4-d2d

\label{pi:spa4imexport}
\subsubsection{Description}

\label{plugins:spa4_d2d_im_export}
The \GxsmEmph{spa4\_d2d\_im\_export} plug-in supports reading of SPA--LEED (SPA4) d2d data files.

PlugIn in construction.

\subsubsection{Usage}

The plug-in is called by \GxsmMenu{File/Import/SPA4-d2d}.

\subsubsection{Known Bugs}

Not yet tested.

\index{C-PlugIn!scan/spa4\_d2d\_im\_export.C}
\index{PlugIn!spa4\_im\_export}
\index{GXSM-Menu!File/Import/SPA4-d2d}
\subsubsection{Info for Plug-In: File/Import/SPA4-d2d }
\begin{tabbing}
Plug-In name:   \= Percy Zahlspa4\_im\_export \= Email: \= x \kill
Plug-In name:   \> spa4\_im\_export\>  File:  \> scan/spa4\_d2d\_im\_export.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/scan/WSxM_io.C
% ------------------------------------------------------------

\section{Import/export for WSxM Nanotec Electronica SPM data}
% Name=WSxM\_io
% Author=Thorsten Wagner
% Email=stm@users.sf.net
% Menupath=File/Im,Export/WXsM

\label{pi:WSxMio}
\subsubsection{Description}

Data import/export of the WSxM data format (version 2) used by Nanotec
Electronica.

\subsubsection{Usage}

Call it from \GxsmMenu{File/Im,Export/WXsM}. Also a normal open or
drag- and drop action from gmc, nautilus or Netscape (URL) will
automatic import WSxM files. 
Plugin uses nc2top to export WSxM files. Therefor, it saves a .nc file first, and then runs nc2top.
If you want, you can change the path of nc2top in the configuration menu, and you can also set if the .nc files shall be deleted after conversion


\subsubsection{References}

\GxsmWebLink{www.nanotec.es}

%% OptPlugInKnownBugs
%Are there known bugs? List! How to work around if not fixed?
The import algorithm is not complete yet. You will get the image, but the scan data are only fake.

\GxsmNote{
DnD and URL drops are not tested.
}

%% OptPlugInHints
%Any tips and tricks?

\index{C-PlugIn!scan/WSxM\_io.C}
\index{PlugIn!WSxM\_io}
\index{GXSM-Menu!File/Im,Export/WXsM}
\subsubsection{Info for Plug-In: File/Im,Export/WXsM }
\begin{tabbing}
Plug-In name:   \= Thorsten WagnerWSxM\_io \= Email: \= x \kill
Plug-In name:   \> WSxM\_io\>  File:  \> scan/WSxM\_io.C\\
Author:	        \> Thorsten Wagner\>  Email: \> stm@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/scan/quicktime_im_export.C
% ------------------------------------------------------------

\section{Quicktime}
% Name=quicktime\_im\_Export
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=File/Import/Quicktime

\label{pi:quicktimeimExport}
\subsubsection{Description}

 The \GxsmEmph{quicktime\_im\_export} plug-in allows exporting of single
 and multidimensional image data sets as Quicktime Movie.

\subsubsection{Usage}

 The plug-in is called by \GxsmMenu{File/Import/Quicktime}.

\GxsmNote{Recommended Format: MJPEG-A, works fine with Power-Point and most Movie Players.}

\GxsmScreenShot{quicktime_export_file}{QT Export File Dialog}
\GxsmScreenShotDual{quicktime_export_setup1}{QT Export Setup step one.}{quicktime_export_setup2}{QT Export Setup step two.}

%% OptPlugInKnownBugs
There seam to be much more formats available from the lib-quicktime, 
but for an unknown reason some are just not working or crashing the program if used.
This seams to depend on the system and libquicktime version used, so please try it out.

%% OptPlugInRefs


\index{C-PlugIn!scan/quicktime\_im\_export.C}
\index{PlugIn!quicktime\_im\_Export}
\index{GXSM-Menu!File/Import/Quicktime}
\subsubsection{Info for Plug-In: File/Import/Quicktime }
\begin{tabbing}
Plug-In name:   \= Percy Zahlquicktime\_im\_Export \= Email: \= x \kill
Plug-In name:   \> quicktime\_im\_Export\>  File:  \> scan/quicktime\_im\_export.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

\GxsmClearpage

% PlugIn: ./plug-ins/scan/gmeyer_im_export.C
% ------------------------------------------------------------

\section{Import/Export of G.Meyer STM/AFM Dat files}
% Name=gmeyer\_im\_export
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=File/Import/GMeyer Dat

\label{pi:gmeyerimexport}
\subsubsection{Description}

\label{plugins:gmeyer_im_export}
The \GxsmEmph{gmeyer\_im\_export} plug-in supports reading and writing of
Dat files used by the G.Meyer STM/AFM software.

\subsubsection{Usage}

The plug-in is called by \GxsmMenu{File/Import/GME Dat}.

\subsubsection{Known Bugs}

Not yet all very well tested.

\index{C-PlugIn!scan/gmeyer\_im\_export.C}
\index{PlugIn!gmeyer\_im\_export}
\index{GXSM-Menu!File/Import/GMeyer Dat}
\subsubsection{Info for Plug-In: File/Import/GMeyer Dat }
\begin{tabbing}
Plug-In name:   \= Percy Zahlgmeyer\_im\_export \= Email: \= x \kill
Plug-In name:   \> gmeyer\_im\_export\>  File:  \> scan/gmeyer\_im\_export.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/scan/PsiHDF_im_export.C
% ------------------------------------------------------------

\section{Park Scientific (HDF) data Import}
% Name=PsiHDF\_im\_export
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=File/Import/PsiHDF

\label{pi:PsiHDFimexport}
\subsubsection{Description}

\label{plugins:PsiHDF_im_export}
The \GxsmEmph{PsiHDF\_im\_export} plug-in supports reading of
Psi-HDFe files used by Park-Scientific AFM.

\subsubsection{Usage}

The plug-in is called by \GxsmMenu{File/Import/PsiHDF}.

\subsubsection{Known Bugs}

Not yet tested, porting to GXSM-2 in progress..

\index{C-PlugIn!scan/PsiHDF\_im\_export.C}
\index{PlugIn!PsiHDF\_im\_export}
\index{GXSM-Menu!File/Import/PsiHDF}
\subsubsection{Info for Plug-In: File/Import/PsiHDF }
\begin{tabbing}
Plug-In name:   \= Percy ZahlPsiHDF\_im\_export \= Email: \= x \kill
Plug-In name:   \> PsiHDF\_im\_export\>  File:  \> scan/PsiHDF\_im\_export.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/scan/wip_im_export.C
% ------------------------------------------------------------

\section{WIP (WiTeC) Import}
% Name=wip\_im\_Export
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=File/Import/WIP

\label{pi:wipimExport}
\subsubsection{Description}

The \GxsmEmph{wip\_im\_export} plug-in allows importing selected data sets of WIP (WiTeC-Project) files.

\subsubsection{Usage}

The plug-in is called by \GxsmMenu{File/Import/WIP}.

%% OptPlugInKnownBugs

%% OptPlugInRefs


\index{C-PlugIn!scan/wip\_im\_export.C}
\index{PlugIn!wip\_im\_Export}
\index{GXSM-Menu!File/Import/WIP}
\subsubsection{Info for Plug-In: File/Import/WIP }
\begin{tabbing}
Plug-In name:   \= Percy Zahlwip\_im\_Export \= Email: \= x \kill
Plug-In name:   \> wip\_im\_Export\>  File:  \> scan/wip\_im\_export.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/scan/cube_import.C
% ------------------------------------------------------------

\section{Cube file Import}
% Name=cube\_import
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=File/Import/Cube

\label{pi:cubeimport}
\subsubsection{Description}

\label{plugins:cube_import}
The \GxsmEmph{Cube} plug-in supports reading of a cube volumetric data file format.
\url{http://paulbourke.net/dataformats/cube/}

CPMD CUBE FILE.\\
 OUTER LOOP: X, MIDDLE LOOP: Y, INNER LOOP: Z\\
    3    0.000000    0.000000    0.000000\\
   40    0.283459    0.000000    0.000000\\
   40    0.000000    0.283459    0.000000\\
   40    0.000000    0.000000    0.283459\\
    8    0.000000    5.570575    5.669178    5.593517\\
    1    0.000000    5.562867    5.669178    7.428055\\
    1    0.000000    7.340606    5.669178    5.111259\\
 -0.25568E-04  0.59213E-05  0.81068E-05  0.10868E-04  0.11313E-04  0.35999E-05\\
      :             :             :           :            :            :\\
      :             :             :           :            :            :\\
      :             :             :           :            :            :\\
        In this case there will be 40 x 40 x 40 floating point values\\
      :             :             :           :            :            :\\
      :             :             :           :            :            :\\
      :             :             :           :            :            :\\

\subsubsection{Usage}

The plug-in is called by \GxsmMenu{File/Import/Cube}. 
Only import direction is implemented.

%% OptPlugInKnownBugs
%Not yet tested.

\index{C-PlugIn!scan/cube\_import.C}
\index{PlugIn!cube\_import}
\index{GXSM-Menu!File/Import/Cube}
\subsubsection{Info for Plug-In: File/Import/Cube }
\begin{tabbing}
Plug-In name:   \= Percy Zahlcube\_import \= Email: \= x \kill
Plug-In name:   \> cube\_import\>  File:  \> scan/cube\_import.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}



% Subdirectory: ./plug-ins/math/filter2d
% ------------------------------------------------------------

\chapter{Plug-Ins: math/filter2d}

% Inclusion of PlugInClassIntro: ./plug-ins/math/filter2d/PlugInClass.doc


The \emph{math/filter2d} plugins are all type of math doing something
in 2D with the data, e.g. a 2D powerspectrum or all types of 2D
FFT-filters. But special 2D statistical analysis or geometric
transformation filters are going into a separate sections
\emph{math/statistics, transformations}.

\subsubsection{Gxsm core 2D convolution filter support}

The Gxsm core provides support for a generalized convolution, just
providing the convolution kernel function itself.  The minimal kernel
size is $2R+1$, it is automatically increased until non zero matrix
elements are appearing.

A convolution kernel is provided by a kernel function like this
Gaus-Kernel:
\[ K_{ij} = 4*e^{-\frac{i^2+j^2}{r^2}} \]

The convolution itself is defined as:
\[ Z'(n,m) = \sum_{-R \le i \le R}  \sum_{-R \le j \le R} Z(n+i,m+j) \cdot K_{i j} \]

For all PlugIns using the convolution method, just the kernel will be
documented in the following descriptions.



% PlugIn: ./plug-ins/math/filter2d/stat_diff.C
% ------------------------------------------------------------

\section{Stat Diff}
% Name=stat\_diff
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Filter 2D/Stat Diff

\label{pi:statdiff}
\subsubsection{Description}

Stationary Differentation in scan direction using a convolution kernel:
\[ K_{ij} = C \cdot j \cdot e^{ - \frac{i^2}{r_y} - \frac{j^2}{r_x}} \]

\subsubsection{Usage}

Call \GxsmMenu{Math/Filter 2D/Stat Diff}.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel.

\subsubsection{Known Bugs}

Crashes Gxsm -- pending to fix.

\index{C-PlugIn!math/filter2d/stat\_diff.C}
\index{PlugIn!stat\_diff}
\index{GXSM-Menu!Math/Filter 2D/Stat Diff}
\subsubsection{Info for Plug-In: Math/Filter 2D/Stat Diff }
\begin{tabbing}
Plug-In name:   \= Percy Zahlstat\_diff \= Email: \= x \kill
Plug-In name:   \> stat\_diff\>  File:  \> math/filter2d/stat\_diff.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/filter2d/edge.C
% ------------------------------------------------------------

\section{Edge}
% Name=edge
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Filter 2D/Edge

\label{pi:edge}
\subsubsection{Description}

A 2D Laplace of Gaussian (LoG) edge detect filter kernel is calculated and applied via convolution to teh source data set, feature size $\sigma$:

\[ K_{ij} = -\frac{1}{\pi\sigma^4} \left( 1 - \frac{i^2+j^2}{2\sigma^2}\right) e^{-\frac{i^2+j^2}{2\sigma^2}} \]

\subsubsection{Usage}

Call \GxsmMenu{Math/Filter 2D/Edge}.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel.

\index{C-PlugIn!math/filter2d/edge.C}
\index{PlugIn!edge}
\index{GXSM-Menu!Math/Filter 2D/Edge}
\subsubsection{Info for Plug-In: Math/Filter 2D/Edge }
\begin{tabbing}
Plug-In name:   \= Percy Zahledge \= Email: \= x \kill
Plug-In name:   \> edge\>  File:  \> math/filter2d/edge.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/filter2d/smooth.C
% ------------------------------------------------------------

\section{Smooth}
% Name=smooth
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Filter 2D/Smooth

\label{pi:smooth}
\subsubsection{Description}

A 2D Gausian smooth is calculated via convolution with a Gaus-Kernel:

\[ K_{ij} = 4*e^{-\frac{i^2+j^2}{r^2}} \]

\subsubsection{Usage}

Call \GxsmMenu{Math/Filter 2D/Smooth}.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel.

\GxsmHint{
Alternative: Use the Fourier-Filter methods Gaus-Stop/Pass for huge
convolutions, it's faster!
}

\index{C-PlugIn!math/filter2d/smooth.C}
\index{PlugIn!smooth}
\index{GXSM-Menu!Math/Filter 2D/Smooth}
\subsubsection{Info for Plug-In: Math/Filter 2D/Smooth }
\begin{tabbing}
Plug-In name:   \= Percy Zahlsmooth \= Email: \= x \kill
Plug-In name:   \> smooth\>  File:  \> math/filter2d/smooth.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/filter2d/lineinterpol.C
% ------------------------------------------------------------

\section{Lineinterpol}
% Name=lineinterpol
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Filter 2D/Lineinterpol

\label{pi:lineinterpol}
\subsubsection{Description}

Lineinterpol action.

\subsubsection{Usage}

Call \GxsmMenu{Math/Filter 2D/Lineinterpol}.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel.

\index{C-PlugIn!math/filter2d/lineinterpol.C}
\index{PlugIn!lineinterpol}
\index{GXSM-Menu!Math/Filter 2D/Lineinterpol}
\subsubsection{Info for Plug-In: Math/Filter 2D/Lineinterpol }
\begin{tabbing}
Plug-In name:   \= Percy Zahllineinterpol \= Email: \= x \kill
Plug-In name:   \> lineinterpol\>  File:  \> math/filter2d/lineinterpol.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/filter2d/smallconvol.C
% ------------------------------------------------------------

\section{Convolution with 3x3 kernel}
% Name=smallconvol
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Filter 2D/Small Convol

\label{pi:smallconvol}
\subsubsection{Description}

\label{plugin:smallconvol}
This plug-in convolutes the active scan with a 3x3 matrix (kernel).  The
kernel can be changed using \GxsmMenu{Tools/Plugin Details} by calling the
plug-ins configure function (c.f.\ \ref{plugin:listplugins}).

\subsubsection{Usage}

The \GxsmEmph{smallconvol} plug-in can be found in \GxsmMenu{Math/Filter
2D/Small Convol}.  It acts on the active channel and the output is put in
the math channel.

%% OptPlugInKnownBugs
%No known.

\index{C-PlugIn!math/filter2d/smallconvol.C}
\index{PlugIn!smallconvol}
\index{GXSM-Menu!Math/Filter 2D/Small Convol}
\subsubsection{Info for Plug-In: Math/Filter 2D/Small Convol }
\begin{tabbing}
Plug-In name:   \= Percy Zahlsmallconvol \= Email: \= x \kill
Plug-In name:   \> smallconvol\>  File:  \> math/filter2d/smallconvol.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/filter2d/template.C
% ------------------------------------------------------------

\section{Template}
% Name=template
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Background/Template

\label{pi:template}
\subsubsection{Description}

Template action.

\subsubsection{Usage}

Call \GxsmMenu{Math/Background/Template}.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel.

\index{C-PlugIn!math/filter2d/template.C}
\index{PlugIn!template}
\index{GXSM-Menu!Math/Background/Template}
\subsubsection{Info for Plug-In: Math/Background/Template }
\begin{tabbing}
Plug-In name:   \= Percy Zahltemplate \= Email: \= x \kill
Plug-In name:   \> template\>  File:  \> math/filter2d/template.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/filter2d/curvature.C
% ------------------------------------------------------------

\section{Curvature}
% Name=curvature
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Filter 2D/Curvature

\label{pi:curvature}
\subsubsection{Description}

Curvature calculation.

\subsubsection{Usage}

Call \GxsmMenu{Math/Filter 2D/Curvature}.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel.

\index{C-PlugIn!math/filter2d/curvature.C}
\index{PlugIn!curvature}
\index{GXSM-Menu!Math/Filter 2D/Curvature}
\subsubsection{Info for Plug-In: Math/Filter 2D/Curvature }
\begin{tabbing}
Plug-In name:   \= Percy Zahlcurvature \= Email: \= x \kill
Plug-In name:   \> curvature\>  File:  \> math/filter2d/curvature.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/filter2d/local_height.C
% ------------------------------------------------------------

\section{Local height}
% Name=local\_height
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Filter 2D/Local height

\label{pi:localheight}
\subsubsection{Description}

Computes the local height via convolution.

\subsubsection{Usage}

Call \GxsmMenu{Math/Filter 2D/Local height}.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel.

\index{C-PlugIn!math/filter2d/local\_height.C}
\index{PlugIn!local\_height}
\index{GXSM-Menu!Math/Filter 2D/Local height}
\subsubsection{Info for Plug-In: Math/Filter 2D/Local height }
\begin{tabbing}
Plug-In name:   \= Percy Zahllocal\_height \= Email: \= x \kill
Plug-In name:   \> local\_height\>  File:  \> math/filter2d/local\_height.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/filter2d/ft2d.C
% ------------------------------------------------------------

\section{FT 2D}
% Name=ft2d
% Author=Percy Zahl
% Email=zahl@users.sourceforge.net
% Menupath=math-filter2d-sectionFT 2D

\label{pi:ft2d}
\subsubsection{Description}

Two dimensional forward Fourier Transformation. Results in three layers (PSD, Re, Im):

Layer 0 is the Power Spectral Density, layer 1 (Re) and 2 (Im) are the
Complex numbers of the FT data. This data can be used for reverse
transformation after (background) stopp and/or pass operations.

\subsubsection{Usage}


%% OptPlugInSection: replace this by the section caption
%all following lines until next tag are going into this section
%...

%% OptPlugInSubSection: replace this line by the subsection caption
%all following lines until next tag are going into this subsection
%...

%% you can repeat OptPlugIn(Sub)Sections multiple times!

%% OptPlugInSources
%The active channel is used as data source.

%% OptPlugInObjects
%A optional rectangle is used for data extraction...

%% OptPlugInDest
%The computation result is placed into an existing math channel, else into a new created math channel.

%% OptPlugInConfig
%describe the configuration options of your plug in here!

%% OptPlugInFiles
%Does it uses, needs, creates any files? Put info here!

%% OptPlugInRefs
%Any references?

%% OptPlugInKnownBugs
%Are there known bugs? List! How to work around if not fixed?

%% OptPlugInNotes
%If you have any additional notes

%% OptPlugInHints
%Any tips and tricks?

\index{C-PlugIn!math/filter2d/ft2d.C}
\index{PlugIn!ft2d}
\index{GXSM-Menu!math-filter2d-sectionFT 2D}
\subsubsection{Info for Plug-In: math-filter2d-sectionFT 2D }
\begin{tabbing}
Plug-In name:   \= Percy Zahlft2d \= Email: \= x \kill
Plug-In name:   \> ft2d\>  File:  \> math/filter2d/ft2d.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sourceforge.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/filter2d/DocOnlyLineInterpol.C
% ------------------------------------------------------------

\section{Line Interpolation}
% Name=(DocOnly) LineInterpol
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Filter 2D/Line Interpol

\label{pi:(DocOnly) LineInterpol}
\subsubsection{Description}

Use this tool to replace distorted line(s) (i.e. caused be manual
Z-Offset adjustments while scanning or tip changes) by interpolated
data from the lines one before and one after the distorsion.

If necessary you should remove line-shifts (use the Lins Shifts
filter) before calling this tool. I.e. the average Z before and after
the distorsion shaould be about the same.

It can work manually on exactly one line or in a automatic mode with
automatic line detection.

\subsubsection{Usage}


It works in two modes: 

a) Assuming line 100 (in pixel corrdinates) to be broken as example,
   mark exactly the line 99 and line 101 with exactly one rectangle
   objects. You may want to use the rectangle-properties to set the
   line numbers manually. Then execute it via \GxsmMenu{Math/Filter
   2D/Line Interpol}.

b) The automatic mode assumes a fairly well flatened image with only
   distorted single lines. Mark the reference area including the
   distorted lines using the rectangle object and call
   \GxsmMenu{Math/Filter 2D/Line Interpol}. It will ask for an
   threashold, which is used to determine if a line is distored,
   therefore it compares the average Z withing the marked X range of
   any line in the mared Y range and the line before.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Objects}


\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel.

%% OptPlugInConfig
%describe the configuration options of your plug in here!

%% OptPlugInRefs
%Any references?

%% OptPlugInKnownBugs
%Are there known bugs? List! How to work around if not fixed?

\GxsmNote{
The X position and size of the rectangle does not matter at all for method (a).
}

%% OptPlugInHints
%Any tips and tricks?

\index{C-PlugIn!math/filter2d/DocOnlyLineInterpol.C}
\index{PlugIn!(DocOnly) LineInterpol}
\index{GXSM-Menu!Math/Filter 2D/Line Interpol}
\subsubsection{Info for Plug-In: Math/Filter 2D/Line Interpol }
\begin{tabbing}
Plug-In name:   \= Percy Zahl(DocOnly) LineInterpol \= Email: \= x \kill
Plug-In name:   \> (DocOnly) LineInterpol\>  File:  \> math/filter2d/DocOnlyLineInterpol.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/filter2d/Tderive.C
% ------------------------------------------------------------

\section{T derive}
% Name=Tderive
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Filter 2D/T derive

\label{pi:Tderive}
\subsubsection{Description}

Not sure what the purpose of this old filter T-derive is\dots

\subsubsection{Usage}

Call \GxsmMenu{Math/Filter 2D/T derive}.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel.

\index{C-PlugIn!math/filter2d/Tderive.C}
\index{PlugIn!Tderive}
\index{GXSM-Menu!Math/Filter 2D/T derive}
\subsubsection{Info for Plug-In: Math/Filter 2D/T derive }
\begin{tabbing}
Plug-In name:   \= Percy ZahlTderive \= Email: \= x \kill
Plug-In name:   \> Tderive\>  File:  \> math/filter2d/Tderive.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/filter2d/ift2d.C
% ------------------------------------------------------------

\section{inverse FT}
% Name=ift2d
% Author=Percy Zahl
% Email=zahl@users.sourceforge.net
% Menupath=Math/Filter 2D/IFT 2D

\label{pi:ift2d}
\subsubsection{Description}

Two dimensional inverse (backward) Fourier Transformation of a three layer (PSD, Re, Im) data set, as generated by the forward FT:

Layer 0 is the Power Spectral Density (not used here), layer 1 (Re) and 2 (Im) are the
Complex numbers used for the complex input for the IFT operation.

\subsubsection{Usage}

Activate a channel containing a complex data set (3 layers: PSD, Re, Im).

%% OptPlugInSection: replace this by the section caption
%all following lines until next tag are going into this section
%...

%% OptPlugInSubSection: replace this line by the subsection caption
%all following lines until next tag are going into this subsection
%...

%% you can repeat OptPlugIn(Sub)Sections multiple times!

%% OptPlugInSources
%The active channel is used as data source.

%% OptPlugInObjects
%A optional rectangle is used for data extraction...

%% OptPlugInDest
%The computation result is placed into an existing math channel, else into a new created math channel.

%% OptPlugInConfig
%describe the configuration options of your plug in here!

%% OptPlugInFiles
%Does it uses, needs, creates any files? Put info here!

%% OptPlugInRefs
%Any references?

%% OptPlugInKnownBugs
%Are there known bugs? List! How to work around if not fixed?

%% OptPlugInNotes
This plugin is under construction.

%% OptPlugInHints
%Any tips and tricks?

\index{C-PlugIn!math/filter2d/ift2d.C}
\index{PlugIn!ift2d}
\index{GXSM-Menu!Math/Filter 2D/IFT 2D}
\subsubsection{Info for Plug-In: Math/Filter 2D/IFT 2D }
\begin{tabbing}
Plug-In name:   \= Percy Zahlift2d \= Email: \= x \kill
Plug-In name:   \> ift2d\>  File:  \> math/filter2d/ift2d.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sourceforge.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/filter2d/despike2d.C
% ------------------------------------------------------------

\section{Despike 2d}
% Name=despike2d
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Background/Despike2d

\label{pi:despike2d}
\subsubsection{Description}

Despike 2d filter.

\subsubsection{Usage}

Call \GxsmMenu{Math/Filter 2D/Despike}.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel.

\index{C-PlugIn!math/filter2d/despike2d.C}
\index{PlugIn!despike2d}
\index{GXSM-Menu!Math/Background/Despike2d}
\subsubsection{Info for Plug-In: Math/Background/Despike2d }
\begin{tabbing}
Plug-In name:   \= Percy Zahldespike2d \= Email: \= x \kill
Plug-In name:   \> despike2d\>  File:  \> math/filter2d/despike2d.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/filter2d/normal_z.C
% ------------------------------------------------------------

\section{Normal Z}
% Name=normal\_z
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Filter 2D/Normal Z

\label{pi:normalz}
\subsubsection{Description}

Z Normal component is calculated.

\subsubsection{Usage}

Call \GxsmMenu{Math/Filter 2D/Normal Z}.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel.

\GxsmHint{
}

\index{C-PlugIn!math/filter2d/normal\_z.C}
\index{PlugIn!normal\_z}
\index{GXSM-Menu!Math/Filter 2D/Normal Z}
\subsubsection{Info for Plug-In: Math/Filter 2D/Normal Z }
\begin{tabbing}
Plug-In name:   \= Percy Zahlnormal\_z \= Email: \= x \kill
Plug-In name:   \> normal\_z\>  File:  \> math/filter2d/normal\_z.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}



% Subdirectory: ./plug-ins/math/background
% ------------------------------------------------------------

\chapter{Plug-Ins: math/background}

% Inclusion of PlugInClassIntro: ./plug-ins/math/background/PlugInClass.doc


The \emph{math/background} plugins are those used to correct data for
background, e.g. subtraction of a regression plane or line.

% PlugIn: ./plug-ins/math/background/DocOnlyEregress.C
% ------------------------------------------------------------

\section{Plane regression}
% Name=(DocOnly) Eregress
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Background/E Regression

\label{pi:(DocOnly) Eregress}
\subsubsection{Description}

The filter calculates a regression plane using a selected rectangular
area and subtracts this from the data

This is usually the best way to flatten a good SPM scan, because it
sustains the offsets inbetween lines. It allows to select a individual
area of the scan as reference area to be flatened.

\subsubsection{Usage}

Mark the reference area using the rectangle object and call \GxsmMenu{Math/Background/E Regression}.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Objects}

A optional rectangle needed to select the reference area for the plane
regression.

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel.

%% OptPlugInConfig
%describe the configuration options of your plug in here!

%% OptPlugInRefs
%Any references?

%% OptPlugInKnownBugs
%Are there known bugs? List! How to work around if not fixed?

\GxsmNote{
\GxsmNote{The ''E'' (E Regression) is historically and stands for German 'Ebene', what means plane. }
At this time this filter is not a real PlugIn (in principal it could
be), but it resides in the Gxsm Core located in the file
\GxsmFile{Gxsm/src/xsmmath.C} as a subroutine and cannot be removed,
because the core code is dependent on this subroutine.
}

%% OptPlugInHints
%Any tips and tricks?

\index{C-PlugIn!math/background/DocOnlyEregress.C}
\index{PlugIn!(DocOnly) Eregress}
\index{GXSM-Menu!Math/Background/E Regression}
\subsubsection{Info for Plug-In: Math/Background/E Regression }
\begin{tabbing}
Plug-In name:   \= Percy Zahl(DocOnly) Eregress \= Email: \= x \kill
Plug-In name:   \> (DocOnly) Eregress\>  File:  \> math/background/DocOnlyEregress.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/background/stop_ccr.C
% ------------------------------------------------------------

\section{Stop band removal}
% Name=stop\_ccr
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Background/Stop CC

\label{pi:stopccr}
\subsubsection{Description}

Used for zeroing data in selected rectangles and automatically complex
conjugated (CC) rectangles. It is in particular made to be used for
marking areas in frequency space (e.g. in a calculated Filter 2D/Power
Spectrum, this generates a PDS and preserves the full orgininal Re/Im
data for manipulation and optional back-transform) for filtering of
data in frequency domain.  The result can then be transformed back
using Filter 2D/IFT 2D (inverse FT) \GxsmEmph{IFT(FT())} 2D filter.

\subsubsection{Usage}

Call \GxsmMenu{Math/Background/Stop CC}.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Objects}

All data in marked rectangles and CC rectangles are zeroed.

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel.

\index{C-PlugIn!math/background/stop\_ccr.C}
\index{PlugIn!stop\_ccr}
\index{GXSM-Menu!Math/Background/Stop CC}
\subsubsection{Info for Plug-In: Math/Background/Stop CC }
\begin{tabbing}
Plug-In name:   \= Percy Zahlstop\_ccr \= Email: \= x \kill
Plug-In name:   \> stop\_ccr\>  File:  \> math/background/stop\_ccr.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/background/plane_max_prop.C
% ------------------------------------------------------------

\section{Plane max. propability}
% Name=plane\_max\_prop
% Author=Percy Zahl, L.Anderson, Greg P. Kochanski
% Email=zahl@users.sf.net
% Menupath=Math/Background/Plane max prop

\label{pi:planemaxprop}
\subsubsection{Description}

Calculates a max propability plane and subtracts it. It's purpose is
to find automatically the best fitting plane to orient a
stepped/vicinal surface in a way, that the terraces are horizontal.

\subsubsection{Usage}

Call \GxsmMenu{Math/Background/Plane max prop}.

\subsubsection{Sources}

The active channel is used as data source.

%% OptPlugInObjects
%A optional rectangle is used for data extraction...

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel.

%% OptPlugInConfig
%describe the configuration options of your plug in here!

%% OptPlugInFiles
%Does it uses, needs, creates any files? Put info here!

%% OptPlugInRefs
%Any references?

%% OptPlugInKnownBugs
%Are there known bugs? List! How to work around if not fixed?

\GxsmNote{
This code in work in progress, it is originated from PMSTM
\GxsmFile{mpplane.c} and was rewritten as a Gxsm math PlugIn. It looks
like something does not work like expected, the corrected plane is not
right for some still not found reason.
}

%% OptPlugInHints
%Any tips and tricks?

\index{C-PlugIn!math/background/plane\_max\_prop.C}
\index{PlugIn!plane\_max\_prop}
\index{GXSM-Menu!Math/Background/Plane max prop}
\subsubsection{Info for Plug-In: Math/Background/Plane max prop }
\begin{tabbing}
Plug-In name:   \= Percy Zahl, L.Anderson, Greg P. Kochanskiplane\_max\_prop \= Email: \= x \kill
Plug-In name:   \> plane\_max\_prop\>  File:  \> math/background/plane\_max\_prop.C\\
Author:	        \> Percy Zahl, L.Anderson, Greg P. Kochanski\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/background/bg_z_drift.C
% ------------------------------------------------------------

\section{Smooth Z drift correction}
% Name=bg\_z\_drift
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Background/Z drift correct

\label{pi:bgzdrift}
\subsubsection{Description}

Corrects a slow and smooth variing Z drift using a polynominal fit for
averaged line heights.

\subsubsection{Usage}

Call \GxsmMenu{Math/Background/Z drift correct}. It asks for the
degree ($2, 3, 4, \dots 13$) used for the polynominal (least squares)
fit, $5$th order is the default.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Objects}

A optional rectangle can be used to restrict the X range used for
calculation the average scan line height. The Y coordinates of the
rectangle are ignored.

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel.

%% OptPlugInNotes
%If you have any additional notes

%% OptPlugInHints
%Any tips and tricks?

\index{C-PlugIn!math/background/bg\_z\_drift.C}
\index{PlugIn!bg\_z\_drift}
\index{GXSM-Menu!Math/Background/Z drift correct}
\subsubsection{Info for Plug-In: Math/Background/Z drift correct }
\begin{tabbing}
Plug-In name:   \= Percy Zahlbg\_z\_drift \= Email: \= x \kill
Plug-In name:   \> bg\_z\_drift\>  File:  \> math/background/bg\_z\_drift.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/background/template.C
% ------------------------------------------------------------

\section{Template}
% Name=template
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Background/Template

\label{pi:template}
\subsubsection{Description}

Template action.

\subsubsection{Usage}

Call \GxsmMenu{Math/Background/Template}.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel.

\index{C-PlugIn!math/background/template.C}
\index{PlugIn!template}
\index{GXSM-Menu!Math/Background/Template}
\subsubsection{Info for Plug-In: Math/Background/Template }
\begin{tabbing}
Plug-In name:   \= Percy Zahltemplate \= Email: \= x \kill
Plug-In name:   \> template\>  File:  \> math/background/template.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/background/lineregression.C
% ------------------------------------------------------------

\section{Lineregression}
% Name=lineregression
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Background/Lineregression

\label{pi:lineregression}
\subsubsection{Description}

Lineregression action.

\subsubsection{Usage}

Call \GxsmMenu{Math/Background/Lineregression}.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel.

\index{C-PlugIn!math/background/lineregression.C}
\index{PlugIn!lineregression}
\index{GXSM-Menu!Math/Background/Lineregression}
\subsubsection{Info for Plug-In: Math/Background/Lineregression }
\begin{tabbing}
Plug-In name:   \= Percy Zahllineregression \= Email: \= x \kill
Plug-In name:   \> lineregression\>  File:  \> math/background/lineregression.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/background/timescalefft.C
% ------------------------------------------------------------

\section{Full Timescale FFT}
% Name=timescalefft
% Author=Percy Zahl
% Email=zahl@users.sourceforge.net
% Menupath=Math/Background/Timescale FFT

\label{pi:timescalefft}
\subsubsection{Description}

Linear FT of scan data in time, takes all scan data concat as one long stream.

\subsubsection{Usage}

Activate source channel.

%% OptPlugInSection: replace this by the section caption
%all following lines until next tag are going into this section
%...

%% OptPlugInSubSection: replace this line by the subsection caption
%all following lines until next tag are going into this subsection
%...

%% you can repeat OptPlugIn(Sub)Sections multiple times!

%% OptPlugInSources
%The active channel is used as data source.

%% OptPlugInObjects
%A optional rectangle is used for data extraction...

%% OptPlugInDest
%The computation result is placed into an existing math channel, else into a new created math channel.

%% OptPlugInConfig
%describe the configuration options of your plug in here!

%% OptPlugInFiles
%Does it uses, needs, creates any files? Put info here!

%% OptPlugInRefs
%Any references?

%% OptPlugInKnownBugs
%Are there known bugs? List! How to work around if not fixed?

%% OptPlugInNotes
%If you have any additional notes

%% OptPlugInHints
%Any tips and tricks?

\index{C-PlugIn!math/background/timescalefft.C}
\index{PlugIn!timescalefft}
\index{GXSM-Menu!Math/Background/Timescale FFT}
\subsubsection{Info for Plug-In: Math/Background/Timescale FFT }
\begin{tabbing}
Plug-In name:   \= Percy Zahltimescalefft \= Email: \= x \kill
Plug-In name:   \> timescalefft\>  File:  \> math/background/timescalefft.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sourceforge.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/background/subconst.C
% ------------------------------------------------------------

\section{Sub Const Background correction}
% Name=subconst
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Background/Sub Const

\label{pi:subconst}
\subsubsection{Description}

Subtracts a constant value form data.

\subsubsection{Usage}

Call \GxsmMenu{Math/Background/Sub Const} and give the value when prompted.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel.

\index{C-PlugIn!math/background/subconst.C}
\index{PlugIn!subconst}
\index{GXSM-Menu!Math/Background/Sub Const}
\subsubsection{Info for Plug-In: Math/Background/Sub Const }
\begin{tabbing}
Plug-In name:   \= Percy Zahlsubconst \= Email: \= x \kill
Plug-In name:   \> subconst\>  File:  \> math/background/subconst.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/background/bggamma.C
% ------------------------------------------------------------

\section{Gamma correction}
% Name=bggamma
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Background/Gamma

\label{pi:bggamma}
\subsubsection{Description}

Applys a gamma correction as it is defined here:
\[ Z_{\text{range}} := Z_{\text{minval}} - Z_{\text{maxval}}\]
\[ Z_{\text{math}} = \frac{Z_{\text{range}} Z_{\text{active}}^{\gamma}}
                          {Z_{\text{range}}^{\gamma}} \]

\subsubsection{Usage}

Call \GxsmMenu{Math/Background/Gamma} and give the gamma value
$\gamma$ if prompted.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel.

\index{C-PlugIn!math/background/bggamma.C}
\index{PlugIn!bggamma}
\index{GXSM-Menu!Math/Background/Gamma}
\subsubsection{Info for Plug-In: Math/Background/Gamma }
\begin{tabbing}
Plug-In name:   \= Percy Zahlbggamma \= Email: \= x \kill
Plug-In name:   \> bggamma\>  File:  \> math/background/bggamma.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/background/plane_regression.C
% ------------------------------------------------------------

\section{Plane Regression}
% Name=plane\_regression
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Background/Plane Regression

\label{pi:planeregression}
\subsubsection{Description}

Plane Regression.

\subsubsection{Usage}

Write how to use it.

%% OptPlugInSection: replace this by the section caption
%all following lines until next tag are going into this section
%...

%% OptPlugInSubSection: replace this line by the subsection caption
%all following lines until next tag are going into this subsection
%...

%% you can repeat OptPlugIn(Sub)Sections multiple times!

%% OptPlugInSources
%The active channel is used as data source.

%% OptPlugInObjects
%A optional rectangle is used for data extraction...

%% OptPlugInDest
%The computation result is placed into an existing math channel, else into a new created math channel.

%% OptPlugInConfig
%describe the configuration options of your plug in here!

%% OptPlugInFiles
%Does it uses, needs, creates any files? Put info here!

%% OptPlugInRefs
%Any references?

%% OptPlugInKnownBugs
%Are there known bugs? List! How to work around if not fixed?

%% OptPlugInNotes
Hacking Version only.
%If you have any additional notes

%% OptPlugInHints
%Any tips and tricks?

\index{C-PlugIn!math/background/plane\_regression.C}
\index{PlugIn!plane\_regression}
\index{GXSM-Menu!Math/Background/Plane Regression}
\subsubsection{Info for Plug-In: Math/Background/Plane Regression }
\begin{tabbing}
Plug-In name:   \= Percy Zahlplane\_regression \= Email: \= x \kill
Plug-In name:   \> plane\_regression\>  File:  \> math/background/plane\_regression.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/background/pass_cc.C
% ------------------------------------------------------------

\section{Pass band copy}
% Name=pass\_cc
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Background/Pass CC

\label{pi:passcc}
\subsubsection{Description}

Used for copying data in selected rectangles and automatically complex
conjugated (CC) rectangles. It is in particular made to be used for
marking areas in frequency space (e.g. in a calculated Filter 2D/Power
Spectrum, this generates a PDS and preserves the full orgininal Re/Im
data for manipulation and optional back-transform) for filtering of
data in frequency domain.  The result can then be transformed back
using Filter 2D/IFT 2D (inverse FT) \GxsmEmph{IFT(FT())} 2D filter.

\subsubsection{Usage}

Call \GxsmMenu{Math/Background/Pass CC}.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Objects}

All data in marked rectangles and CC rectangles is copied.

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel.

\index{C-PlugIn!math/background/pass\_cc.C}
\index{PlugIn!pass\_cc}
\index{GXSM-Menu!Math/Background/Pass CC}
\subsubsection{Info for Plug-In: Math/Background/Pass CC }
\begin{tabbing}
Plug-In name:   \= Percy Zahlpass\_cc \= Email: \= x \kill
Plug-In name:   \> pass\_cc\>  File:  \> math/background/pass\_cc.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/background/waterlevel.C
% ------------------------------------------------------------

\section{Waterlevel}
% Name=waterlevel
% Author=Andreas Klust
% Email=klust@users.sourceforge.net
% Menupath=Math/Background/Waterlevel

\label{pi:waterlevel}
\subsubsection{Description}

This plugin adds a waterlevel to the active scan.  Everything below
this level in the resulting scan will become invisible.  This is achieved
by setting the z value of all points with original z values below the 
waterlevel to the waterlevel: if $z(x,y) < \mbox{waterlevel}$ then 
$z(x,y) = \mbox{waterlevel}$.

\subsubsection{Usage}

Write how to use it.

%% OptPlugInSection: replace this by the section caption
%all following lines until next tag are going into this section
%...

%% OptPlugInSubSection: replace this line by the subsection caption
%all following lines until next tag are going into this subsection
%...

%% you can repeat OptPlugIn(Sub)Sections multiple times!

%% OptPlugInSources
%The active channel is used as data source.

%% OptPlugInObjects
%A optional rectangle is used for data extraction...

%% OptPlugInDest
The computation result is placed into an existing math channel, else 
into a new created math channel.

%% OptPlugInConfig
%describe the configuration options of your plug in here!

%% OptPlugInFiles
%Does it uses, needs, creates any files? Put info here!

%% OptPlugInRefs
%Any references?

%% OptPlugInKnownBugs
This plug-in is still under construction!

%% OptPlugInNotes
%If you have any additional notes

%% OptPlugInHints
%Any tips and tricks?

\index{C-PlugIn!math/background/waterlevel.C}
\index{PlugIn!waterlevel}
\index{GXSM-Menu!Math/Background/Waterlevel}
\subsubsection{Info for Plug-In: Math/Background/Waterlevel }
\begin{tabbing}
Plug-In name:   \= Andreas Klustwaterlevel \= Email: \= x \kill
Plug-In name:   \> waterlevel\>  File:  \> math/background/waterlevel.C\\
Author:	        \> Andreas Klust\>  Email: \> klust@users.sourceforge.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/background/plane3pkt.C
% ------------------------------------------------------------

\section{Plane three points}
% Name=plane3pkte
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Background/Plane 3 Points

\label{pi:plane3pkte}
\subsubsection{Description}

The filter removes a by three points defined plane from the scan.

\subsubsection{Usage}

Define the three points using the \GxsmEmph{Point} object.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Objects}

The \GxsmEmph{Ksys} object is needet to define the plane via the three
points provided.

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel.

%% OptPlugInConfig
%describe the configuration options of your plug in here!

%% OptPlugInRefs
%Any references?

%% OptPlugInKnownBugs
%Are there known bugs? List! How to work around if not fixed?

%% OptPlugInNotes

%% OptPlugInHints
%Any tips and tricks?

\index{C-PlugIn!math/background/plane3pkt.C}
\index{PlugIn!plane3pkte}
\index{GXSM-Menu!Math/Background/Plane 3 Points}
\subsubsection{Info for Plug-In: Math/Background/Plane 3 Points }
\begin{tabbing}
Plug-In name:   \= Percy Zahlplane3pkte \= Email: \= x \kill
Plug-In name:   \> plane3pkte\>  File:  \> math/background/plane3pkt.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/background/removelineshifts.C
% ------------------------------------------------------------

\section{Remove Line Shifts}
% Name=removelineshifts
% Author=percy
% Email=zahl@users.sourceforge.net
% Menupath=\_Math/Background/Rm Line Shifts

\label{pi:removelineshifts}
\subsubsection{Description}

This filter removes $Z$ line shifts from the image background -- most
commonly due to tip changes or any other sudden Z changes from one to
the next line. It works by comparing the 2nd order change of average
scan line $Z$ value to an given threashold value, i.e. it determines a
jump in the $\partial_Y Z$ (Y-slope), if so, this jump is evaluated and $Z$ of
all following lines is ajusted. The the filter asks for the treashold value.

\subsubsection{Usage}

Activate source scan and call it filter from \GxsmMenu{Math/Background/Rm Line Shifts} menu.
Input the desired threashold value.

%% OptPlugInSection: replace this by the section caption
%all following lines until next tag are going into this section
%...

%% OptPlugInSubSection: replace this line by the subsection caption
%all following lines until next tag are going into this subsection
%...

%% you can repeat OptPlugIn(Sub)Sections multiple times!

%% OptPlugInSources
%The active channel is used as data source.

%% OptPlugInObjects
%A optional rectangle is used for data extraction...

%% OptPlugInDest
%The computation result is placed into an existing math channel, else into a new created math channel.

%% OptPlugInConfig
%describe the configuration options of your plug in here!

%% OptPlugInFiles
%Does it uses, needs, creates any files? Put info here!

%% OptPlugInRefs
%Any references?

%% OptPlugInKnownBugs
%Are there known bugs? List! How to work around if not fixed?

%% OptPlugInNotes
%If you have any additional notes

%% OptPlugInHints
%Any tips and tricks?

\index{C-PlugIn!math/background/removelineshifts.C}
\index{PlugIn!removelineshifts}
\index{GXSM-Menu!\_Math/Background/Rm Line Shifts}
\subsubsection{Info for Plug-In: \_Math/Background/Rm Line Shifts }
\begin{tabbing}
Plug-In name:   \= percyremovelineshifts \= Email: \= x \kill
Plug-In name:   \> removelineshifts\>  File:  \> math/background/removelineshifts.C\\
Author:	        \> percy\>  Email: \> zahl@users.sourceforge.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/background/parabolregress.C
% ------------------------------------------------------------

\section{2nd order scanline correction}
% Name=parabolregress
% Author=Stefan Schr\"oder
% Email=stefan\_fkp@users.sf.net
% Menupath=Math/Background/Line

\label{pi:parabolregress}
\subsubsection{Description}

Second order line by line background correction: The 2nd order best fit of the
Z data of each line is computed and subtracted as background.

This filter can be used for a quick and easy background correction of
sample tilt and possible offset changes inbetween lines. Additionally, the
correction of an overlaying parabola, e.g. due to the geometry of the 
experimental setup (bending piezo tube) is 

\subsubsection{Usage}

Activate a scan and select \GxsmMenu{Math/Background/Line: 2nd order}.

%% OptPlugInSection: replace this by the section caption
%all following lines until next tag are going into this section
%...

%% OptPlugInSubSection: replace this line by the subsection caption
%all following lines until next tag are going into this subsection
%...

%% you can repeat OptPlugIn(Sub)Sections multiple times!

\subsubsection{Sources}

The active channel is used as data source.

%% OptPlugInObjects
%A optional rectangle is used for data extraction...

\subsubsection{Destination}

The result is put into a new created math channel.

%% OptPlugInConfig
%describe the configuration options of your plug in here!

%% OptPlugInFiles
%Does it uses, needs, creates any files? Put info here!

%% OptPlugInRefs
%Any references?

%% OptPlugInKnownBugs
%Are there known bugs? List! How to work around if not fixed?

\GxsmNote{
The algorithm is unchecked.
}

%% OptPlugInHints
%Any tips and tricks?

\index{C-PlugIn!math/background/parabolregress.C}
\index{PlugIn!parabolregress}
\index{GXSM-Menu!Math/Background/Line}
\subsubsection{Info for Plug-In: Math/Background/Line }
\begin{tabbing}
Plug-In name:   \= Stefan Schr\"oderparabolregress \= Email: \= x \kill
Plug-In name:   \> parabolregress\>  File:  \> math/background/parabolregress.C\\
Author:	        \> Stefan Schr\"oder\>  Email: \> stefan\_fkp@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/background/DocOnlyLineRegress.C
% ------------------------------------------------------------

\section{Line Regression}
% Name=(DocOnly) LineRegress
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Background/Line Regress

\label{pi:(DocOnly) LineRegress}
\subsubsection{Description}

This applies the \GxsmEmph{Quick View} representation to the
data. Therefore a least squares fit line regression is calculated on a
subset of 30 points for each scan line. This line is subtracted from
the data to correct for slope and offset.

\subsubsection{Usage}

This filter is used for a quick and easy background correction of
sample tilt and possible offset changes inbetween lines.

\subsubsection{Sources}

The active channel is used as data source.

%% OptPlugInObjects
%A optional rectangle is used for data extraction...

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel.

%% OptPlugInConfig
%describe the configuration options of your plug in here!

%% OptPlugInRefs
%Any references?

%% OptPlugInKnownBugs
%Are there known bugs? List! How to work around if not fixed?

\GxsmNote{
At this time this filter is not a real PlugIn (in principal it could
be), but it resides in the Gxsm Core located in the file
\GxsmFile{Gxsm/src/xsmmath.C} as a subroutine and cannot be removed,
because the core code is dependent on this subroutine.
}

\GxsmHint{
Doing it better: try using a plane regression! If this works, great! 
In case there are offset changes inbetween lines, you can try getting
better results with an proceeding \GxsmMenu{Math/Filter
2D/LineShifts}. If you have some spikes in you image, try removing
those first with the \GxsmMenu{Math/Filter 2D/Despike}.
}

\index{C-PlugIn!math/background/DocOnlyLineRegress.C}
\index{PlugIn!(DocOnly) LineRegress}
\index{GXSM-Menu!Math/Background/Line Regress}
\subsubsection{Info for Plug-In: Math/Background/Line Regress }
\begin{tabbing}
Plug-In name:   \= Percy Zahl(DocOnly) LineRegress \= Email: \= x \kill
Plug-In name:   \> (DocOnly) LineRegress\>  File:  \> math/background/DocOnlyLineRegress.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/background/mulconst.C
% ------------------------------------------------------------

\section{Multiply Const Background correction}
% Name=mulconst
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Background/Multiply Const

\label{pi:mulconst}
\subsubsection{Description}

Multiply multi dim data (only apply to selected range!) with factor.

\subsubsection{Usage}

Call \GxsmMenu{Math/Background/Multiply Const} and give the value when prompted.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel.

\index{C-PlugIn!math/background/mulconst.C}
\index{PlugIn!mulconst}
\index{GXSM-Menu!Math/Background/Multiply Const}
\subsubsection{Info for Plug-In: Math/Background/Multiply Const }
\begin{tabbing}
Plug-In name:   \= Percy Zahlmulconst \= Email: \= x \kill
Plug-In name:   \> mulconst\>  File:  \> math/background/mulconst.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}



% Subdirectory: ./plug-ins/math/arithmetic
% ------------------------------------------------------------

\chapter{Plug-Ins: math/arithmetic}

% Inclusion of PlugInClassIntro: ./plug-ins/math/arithmetic/PlugInClass.doc


The \emph{math/arithmetic} plugins are those used for simple arithmetic, such
as applying a log function to Z values, adding scans, etc.

% PlugIn: ./plug-ins/math/arithmetic/Z_usr_rescale.C
% ------------------------------------------------------------

\section{Multiply scans}
% Name=Z\_usr\_rescale
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Arithmetic/Z usr rescale

\label{pi:Zusrrescale}
\subsubsection{Description}

Linear transformation of the Z-values of scans offset and factor.

\subsubsection{Usage}

Call \GxsmMenu{Math/Arithmetic/Z Usr Rescale}.

\subsubsection{Sources}

The "Z" of the active channel, all layers is rescaled by a given factor.

\subsubsection{Objects}

Requests a input coeficients file, one line per layer:

offset0 factor0\\
offset1 factor1\\
...

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel. The result is of type \GxsmEmph{float}.

%% OptPlugInNotes

\index{C-PlugIn!math/arithmetic/Z\_usr\_rescale.C}
\index{PlugIn!Z\_usr\_rescale}
\index{GXSM-Menu!Math/Arithmetic/Z usr rescale}
\subsubsection{Info for Plug-In: Math/Arithmetic/Z usr rescale }
\begin{tabbing}
Plug-In name:   \= Percy ZahlZ\_usr\_rescale \= Email: \= x \kill
Plug-In name:   \> Z\_usr\_rescale\>  File:  \> math/arithmetic/Z\_usr\_rescale.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/arithmetic/abs_scan.C
% ------------------------------------------------------------

\section{Absolute Value}
% Name=abs\_scan
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Arithmetic/Absoluet Value

\label{pi:absscan}
\subsubsection{Description}

Takes the absolute value for the data.

\subsubsection{Usage}

Call \GxsmMenu{Math/Arithmetic/Absolute Value}.

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel. The result is of type \GxsmEmph{float}.

\index{C-PlugIn!math/arithmetic/abs\_scan.C}
\index{PlugIn!abs\_scan}
\index{GXSM-Menu!Math/Arithmetic/Absoluet Value}
\subsubsection{Info for Plug-In: Math/Arithmetic/Absoluet Value }
\begin{tabbing}
Plug-In name:   \= Percy Zahlabs\_scan \= Email: \= x \kill
Plug-In name:   \> abs\_scan\>  File:  \> math/arithmetic/abs\_scan.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/arithmetic/max.C
% ------------------------------------------------------------

\section{Max of two sources}
% Name=max
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Arithmetic/Max

\label{pi:max}
\subsubsection{Description}

This filter merges two (same sized and aligned) scans by using the max
$Z$ value of source one (actice) and two (X) as resulting $Z$.

\subsubsection{Usage}

Select two same sized sources: One should be "Active" and the other in
mode "X", assure there is only one mode "X" channel around -- always
the first "X" marked channel (lowest channel number) will be used!
And run \GxsmMenu{Math/Arithmetic/Max}

\subsubsection{Sources}

The active channel and X-channel are used.

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel.

\index{C-PlugIn!math/arithmetic/max.C}
\index{PlugIn!max}
\index{GXSM-Menu!Math/Arithmetic/Max}
\subsubsection{Info for Plug-In: Math/Arithmetic/Max }
\begin{tabbing}
Plug-In name:   \= Percy Zahlmax \= Email: \= x \kill
Plug-In name:   \> max\>  File:  \> math/arithmetic/max.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/arithmetic/Z_limiter.C
% ------------------------------------------------------------

\section{Z Limiter}
% Name=Z\_limiter
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Arithmetic/Z Limiter

\label{pi:Zlimiter}
\subsubsection{Description}

The Z Limiter limites the Z range to a given range defined by an selected area 
(rectangle object used before by \GxsmEmph{AutopDisplay}).

\subsubsection{Usage}

Call \GxsmMenu{Math/Arithmetic/Z Limiter}.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Objects}

The range withing an rectange (i.e. the current \GxsmEmph{AutoDisp} settings) 
is used to obtain Z min/max for limiting.

\subsubsection{Destination}

The computation result is placed into an existing math channel, else into a new created math channel.

\index{C-PlugIn!math/arithmetic/Z\_limiter.C}
\index{PlugIn!Z\_limiter}
\index{GXSM-Menu!Math/Arithmetic/Z Limiter}
\subsubsection{Info for Plug-In: Math/Arithmetic/Z Limiter }
\begin{tabbing}
Plug-In name:   \= Percy ZahlZ\_limiter \= Email: \= x \kill
Plug-In name:   \> Z\_limiter\>  File:  \> math/arithmetic/Z\_limiter.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/arithmetic/Z_rescale.C
% ------------------------------------------------------------

\section{Multiply scans}
% Name=Z\_rescale
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Arithmetic/Mul X

\label{pi:Zrescale}
\subsubsection{Description}

Multiplys the Z-values of scans bt factor. May limit action to rectange -- will be used if any is found.

\subsubsection{Usage}

Call \GxsmMenu{Math/Arithmetic/Z Rescale}.

\subsubsection{Sources}

The "Z" of the active channel is rescaled by a given factor.

%% OptPlugInObjects
%A optional rectangle is used for data extraction...

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel. The result is of type \GxsmEmph{float}.

%% OptPlugInNotes

\index{C-PlugIn!math/arithmetic/Z\_rescale.C}
\index{PlugIn!Z\_rescale}
\index{GXSM-Menu!Math/Arithmetic/Mul X}
\subsubsection{Info for Plug-In: Math/Arithmetic/Mul X }
\begin{tabbing}
Plug-In name:   \= Percy ZahlZ\_rescale \= Email: \= x \kill
Plug-In name:   \> Z\_rescale\>  File:  \> math/arithmetic/Z\_rescale.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/arithmetic/add_scan.C
% ------------------------------------------------------------

\section{Add two scans}
% Name=add\_scan
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Arithmetic/Add X

\label{pi:addscan}
\subsubsection{Description}

Adds the Z-values of two scan.

\subsubsection{Usage}

Call \GxsmMenu{Math/Arithmetic/Add X}.

\subsubsection{Sources}

The active channel is added to the X channel.

%% OptPlugInObjects
%A optional rectangle is used for data extraction...

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel. The result is of type \GxsmEmph{float}.

\GxsmNote{
Both scans are required to have the same size in pixels.
}

\index{C-PlugIn!math/arithmetic/add\_scan.C}
\index{PlugIn!add\_scan}
\index{GXSM-Menu!Math/Arithmetic/Add X}
\subsubsection{Info for Plug-In: Math/Arithmetic/Add X }
\begin{tabbing}
Plug-In name:   \= Percy Zahladd\_scan \= Email: \= x \kill
Plug-In name:   \> add\_scan\>  File:  \> math/arithmetic/add\_scan.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/arithmetic/sub_scan.C
% ------------------------------------------------------------

\section{Subtract scans}
% Name=sub\_scan
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Arithmetic/Sub X

\label{pi:subscan}
\subsubsection{Description}

Subtracts the Z-values of two scan from each other.

\subsubsection{Usage}

Call \GxsmMenu{Math/Arithmetic/Sub X}.

\subsubsection{Sources}

The X channel is subtracted from the active channel.

%% OptPlugInObjects
%A optional rectangle is used for data extraction...

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel. The result is of type \GxsmEmph{float}.

\GxsmNote{
Both scans are required to have the same size in pixels.
}

\index{C-PlugIn!math/arithmetic/sub\_scan.C}
\index{PlugIn!sub\_scan}
\index{GXSM-Menu!Math/Arithmetic/Sub X}
\subsubsection{Info for Plug-In: Math/Arithmetic/Sub X }
\begin{tabbing}
Plug-In name:   \= Percy Zahlsub\_scan \= Email: \= x \kill
Plug-In name:   \> sub\_scan\>  File:  \> math/arithmetic/sub\_scan.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/arithmetic/log_z.C
% ------------------------------------------------------------

\section{Logarithm transform of Z-values}
% Name=log\_z
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Arithmetic/Log

\label{pi:logz}
\subsubsection{Description}

Apply a logarithm transform to the Z values. It subtracts the Z
minimum, adds one computes the logarithm of that:

\[ Z_{\text{math}} = \log \left( Z_{\text{active}}
   - \text{minval} \left( Z_{\text{active}} \right) + 1 \right) \]

\subsubsection{Usage}

Call \GxsmMenu{Math/Arithmetic/Log}.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel. The result is of type \GxsmEmph{float}.

\index{C-PlugIn!math/arithmetic/log\_z.C}
\index{PlugIn!log\_z}
\index{GXSM-Menu!Math/Arithmetic/Log}
\subsubsection{Info for Plug-In: Math/Arithmetic/Log }
\begin{tabbing}
Plug-In name:   \= Percy Zahllog\_z \= Email: \= x \kill
Plug-In name:   \> log\_z\>  File:  \> math/arithmetic/log\_z.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/arithmetic/mul_scan.C
% ------------------------------------------------------------

\section{Multiply scans}
% Name=mul\_scan
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Arithmetic/Mul X

\label{pi:mulscan}
\subsubsection{Description}

Multiplys the Z-values of two scans.

\subsubsection{Usage}

Call \GxsmMenu{Math/Arithmetic/Mul X}.

\subsubsection{Sources}

The active channel is multiplied with the X-channel.

%% OptPlugInObjects
%A optional rectangle is used for data extraction...

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel. The result is of type \GxsmEmph{float}.

\GxsmNote{
Both scans are required to have the same size in pixels.
}

\index{C-PlugIn!math/arithmetic/mul\_scan.C}
\index{PlugIn!mul\_scan}
\index{GXSM-Menu!Math/Arithmetic/Mul X}
\subsubsection{Info for Plug-In: Math/Arithmetic/Mul X }
\begin{tabbing}
Plug-In name:   \= Percy Zahlmul\_scan \= Email: \= x \kill
Plug-In name:   \> mul\_scan\>  File:  \> math/arithmetic/mul\_scan.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/arithmetic/invert_z.C
% ------------------------------------------------------------

\section{Invert Z}
% Name=invert\_z
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Arithmetic/Invert

\label{pi:invertz}
\subsubsection{Description}

Invert the Z values of a scan. \[ Z_{\text{math}} = -Z_{\text{active}} \]

\subsubsection{Usage}

Call \GxsmMenu{Math/Arithmetic/Invert}.

\subsubsection{Sources}

The active channel is used as data source.

%% OptPlugInObjects
%A optional rectangle is used for data extraction...

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel.

\index{C-PlugIn!math/arithmetic/invert\_z.C}
\index{PlugIn!invert\_z}
\index{GXSM-Menu!Math/Arithmetic/Invert}
\subsubsection{Info for Plug-In: Math/Arithmetic/Invert }
\begin{tabbing}
Plug-In name:   \= Percy Zahlinvert\_z \= Email: \= x \kill
Plug-In name:   \> invert\_z\>  File:  \> math/arithmetic/invert\_z.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/arithmetic/div_scan.C
% ------------------------------------------------------------

\section{Divide scans}
% Name=div\_scan
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Arithmetic/Div X

\label{pi:divscan}
\subsubsection{Description}

Divide the Z-values of two scans.

\subsubsection{Usage}

Call \GxsmMenu{Math/Arithmetic/Div X}.

\subsubsection{Sources}

The active channel is divided by the X channel.

%% OptPlugInObjects
%A optional rectangle is used for data extraction...

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel. The result is of type \GxsmEmph{float}.

\GxsmNote{
Both scans are required to have the same size in pixels. Thers is an
$\epsilon = 10^{-8}$ defined as minimal divisor, if the absolute value
of the divisor is smaller than $\epsilon$ the original divident data
is kept unchanged.
}

\index{C-PlugIn!math/arithmetic/div\_scan.C}
\index{PlugIn!div\_scan}
\index{GXSM-Menu!Math/Arithmetic/Div X}
\subsubsection{Info for Plug-In: Math/Arithmetic/Div X }
\begin{tabbing}
Plug-In name:   \= Percy Zahldiv\_scan \= Email: \= x \kill
Plug-In name:   \> div\_scan\>  File:  \> math/arithmetic/div\_scan.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}



% Subdirectory: ./plug-ins/math/statistik
% ------------------------------------------------------------

\chapter{Plug-Ins: math/statistik}

% Inclusion of PlugInClassIntro: ./plug-ins/math/statistik/PlugInClass.doc


The \emph{math/statistik} plugins are all type of math doing some
statistical analysis like a histogram creation.

% PlugIn: ./plug-ins/math/statistik/islandlbl.C
% ------------------------------------------------------------

% PlugIn: ./plug-ins/math/statistik/stepcount.C
% ------------------------------------------------------------

\section{Stepcount}
% Name=baseinfo
% Author=Stefan Schr\"oder
% Email=stefan\_fkp@users.sf.net
% Menupath=Math/Statistics/stepcounter

\label{pi:baseinfo}
\subsubsection{Description}

This is a primitive plugin for the analysis of artificially
generated scans. It counts the number of steps in x-direction,
higher than 255 counts.

\subsubsection{Usage}

Use with
active scan or a selected rectangle within the active scan.

\subsubsection{Sources}

You need one active scan.

\subsubsection{Objects}

If a rectangle is selected the calculated information applies to the
content of the rectangle. Otherwise, the whole scan is analyzed.

\subsubsection{Destination}

The result is printed on the console, so you better have one open!

\subsubsection{Configuration}

None.

\subsubsection{Known Bugs}

None

\GxsmNote{
Is there interest in a more general approach? 
}

\index{C-PlugIn!math/statistik/stepcount.C}
\index{PlugIn!baseinfo}
\index{GXSM-Menu!Math/Statistics/stepcounter}
\subsubsection{Info for Plug-In: Math/Statistics/stepcounter }
\begin{tabbing}
Plug-In name:   \= Stefan Schr\"oderbaseinfo \= Email: \= x \kill
Plug-In name:   \> baseinfo\>  File:  \> math/statistik/stepcount.C\\
Author:	        \> Stefan Schr\"oder\>  Email: \> stefan\_fkp@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/statistik/AngularAnalysis.C
% ------------------------------------------------------------

\section{Angular Analysis}
% Name=AngularAnalysis
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Statistics/Angular Analysis

\label{pi:AngularAnalysis}
\subsubsection{Description}

Calculate all local gradients and presents those in a polar histogram
of slope as radius and direction as polar angle.

\subsubsection{Usage}

Call \GxsmMenu{Math/Statistics/Angular Analysis}.

%% OptPlugInSection: replace this by the section caption
%all following lines until next tag are going into this section
%...

%% OptPlugInSubSection: replace this line by the subsection caption
%all following lines until next tag are going into this subsection
%...

%% you can repeat OptPlugIn(Sub)Sections multiple times!

%% OptPlugInSources
%The active channel is used as data source.

%% OptPlugInObjects
%A optional rectangle is used for data extraction...

%% OptPlugInDest
%The computation result is placed into an existing math channel, else into a new created math channel.

%% OptPlugInConfig
%describe the configuration options of your plug in here!

%% OptPlugInFiles
%Does it uses, needs, creates any files? Put info here!

%% OptPlugInRefs
%Any references?

%% OptPlugInKnownBugs
%Are there known bugs? List! How to work around if not fixed?

%% OptPlugInNotes
%If you have any additional notes

%% OptPlugInHints
%Any tips and tricks?

\index{C-PlugIn!math/statistik/AngularAnalysis.C}
\index{PlugIn!AngularAnalysis}
\index{GXSM-Menu!Math/Statistics/Angular Analysis}
\subsubsection{Info for Plug-In: Math/Statistics/Angular Analysis }
\begin{tabbing}
Plug-In name:   \= Percy ZahlAngularAnalysis \= Email: \= x \kill
Plug-In name:   \> AngularAnalysis\>  File:  \> math/statistik/AngularAnalysis.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/statistik/slopedir.C
% ------------------------------------------------------------

\section{Calculate in plane direction of gradient}

% Name=SlopeDir

% Author=Percy Zahl

% Email=zahl@users.sf.net

% Menupath=Math/Statistics/Slope Dir

\label{pi:SlopeDir}
\subsubsection{Description}


Calculation of the direction of the local slope (gradient) using a user
defined facet size at each pixel as reference area.  A plane
regression is performed at each pixel to find the best matching local
facet of the given size. Its normal is used to find the gradients direction in plane.

\subsubsection{Usage}

Activate chanel to use and call it from Menu \emph{Math/Statistics/Slope Dir}.

\subsubsection{Sources}

The active channel is used.

\subsubsection{Destination}

Existing Math channel, else newly created Math channel.

\subsubsection{Configuration}

Can set a default facet size, if set to zero it will ask at each call.

\subsubsection{Known Bugs}

No bugs known.

\index{C-PlugIn!math/statistik/slopedir.C}
\index{PlugIn!SlopeDir}
\index{GXSM-Menu!Math/Statistics/Slope Dir}
\subsubsection{Info for Plug-In: Math/Statistics/Slope Dir }
\begin{tabbing}
Plug-In name:   \= Percy ZahlSlopeDir \= Email: \= x \kill
Plug-In name:   \> SlopeDir\>  File:  \> math/statistik/slopedir.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/statistik/crosscorrelation.C
% ------------------------------------------------------------

\section{Crosscorrelation}
% Name=crosscorrelation
% Author=Erik Muller
% Email=emmuller@users.sourceforge.net
% Menupath=Math/Statistic/Cross Correlation

\label{pi:crosscorrelation}
\subsubsection{Description}

 Computes the crosscorrelation of two images using a masked area of first source (the active scan).

-- WORK IN PROGRESS --

%%% \[ Z' = |\text{IFT} (\text{FT} (Z_{\text{active}}) \times \text{FT} (Z_{\text{X}}) )| \]

\subsubsection{Usage}

 Call \GxsmMenu{Math/Statistic/Cross Correlation} to execute.

\subsubsection{Sources}

 The active and X channel are used as data source, a rectangular
 selection mask is used for feature selection.

\subsubsection{Destination}

 The computation result is placed into an existing math channel, else
 into a new created math channel.

\GxsmNote{
}

\index{C-PlugIn!math/statistik/crosscorrelation.C}
\index{PlugIn!crosscorrelation}
\index{GXSM-Menu!Math/Statistic/Cross Correlation}
\subsubsection{Info for Plug-In: Math/Statistic/Cross Correlation }
\begin{tabbing}
Plug-In name:   \= Erik Mullercrosscorrelation \= Email: \= x \kill
Plug-In name:   \> crosscorrelation\>  File:  \> math/statistik/crosscorrelation.C\\
Author:	        \> Erik Muller\>  Email: \> emmuller@users.sourceforge.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/statistik/nndistribution.C
% ------------------------------------------------------------

\section{Nndistribution}

% Name=nndistribution

% Author=Percy Zahl

% Email=zahl@users.sf.net

% Menupath=Math/Statistics/Nndistribution

\label{pi:nndistribution}
\subsubsection{Description}

The NN-distribution plugin calculates the nearest
neigbour (lateral) distribution of marker groups manually placed in
the active channel using a default (estimated from data) or user
provided number of bins.
Option to auto-recenter markers on max or min locally.

\subsubsection{Usage}

Call it from Gxsm Math/Statistics menu. It will prompt for the number
of bins and provides a estimated number as default. Also the current
min/max Z-value limits and range is shown for informative purpose.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Objects}

A optional rectangle can not be used. Use crop before!

\subsubsection{Destination}

The computation result is placed into an new profile view.

%% OptPlugInConfig
%The number of bins can be set.

%% OptPlugInFiles
%Needs/creates no files.

%% OptPlugInRefs
%nope.

%% OptPlugInKnownBugs
%No known.

%% OptPlugInNotes
%Hmm, no notes\dots

\GxsmHint{
Find out what happenes with more or less bins!
}

\index{C-PlugIn!math/statistik/nndistribution.C}
\index{PlugIn!nndistribution}
\index{GXSM-Menu!Math/Statistics/Nndistribution}
\subsubsection{Info for Plug-In: Math/Statistics/Nndistribution }
\begin{tabbing}
Plug-In name:   \= Percy Zahlnndistribution \= Email: \= x \kill
Plug-In name:   \> nndistribution\>  File:  \> math/statistik/nndistribution.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/statistik/polarhist.C
% ------------------------------------------------------------

\section{Generate a polar histogramm}
% Name=polarhist
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Statistics/Polar Histogram

\label{pi:polarhist}
\subsubsection{Description}

This PlugIn generates from two data sets one (polar) histogram...

\subsubsection{Usage}

Example:
\begin{enumerate}
\item open the demo Ge pyramid image
\item optional for slow machines, scale by x and y 0.2
  (\GxsmMenu{Math/Transformation/Scan Scan}), then activate this
  channel
\item call \GxsmMenu{Math/Statistics/Slope Abs}, use Facet Radius = 5
    (with scale down image)
\item do \GxsmEmph{Autodisp} on resulting \GxsmEmph{Math} channel
\item activate the original (e.g. scaled down image)
\item set a free channel to \GxsmEmph{Math}
\item call \GxsmMenu{Math/Statistics/Slope Dir}
\item the ``Slope Abs'' resulting channel to \GxsmEmph{Mode-Active}
\item the ``Slope Dir'' resulting channel to \GxsmEmph{Mode-X}
\item call \GxsmMenu{Math/Statistics/Polar Hist}\\
angular slices 180\\
data channels  200\\
data start 0\\
data end   45\\
Vmode 1\\
\end{enumerate}

data start = data end = 0 : auto ranging (min/max) is used

\subsubsection{Sources}

The active channel is used as histogramm data source, the X-channel is used as bin

\subsubsection{Objects}

A optional rectangle is used for data extraction...

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel.

%% OptPlugInConfig
%

%% OptPlugInFiles
%Does it uses, needs, creates any files? Put info here!

\subsubsection{Known Bugs}

Produces sometimes strange output... pending to fix!

\GxsmNote{
Docu not finished jet, PlugIn makes Gxsm unstable after usage -- work in progress.
}

%% OptPlugInHints
%

\index{C-PlugIn!math/statistik/polarhist.C}
\index{PlugIn!polarhist}
\index{GXSM-Menu!Math/Statistics/Polar Histogram}
\subsubsection{Info for Plug-In: Math/Statistics/Polar Histogram }
\begin{tabbing}
Plug-In name:   \= Percy Zahlpolarhist \= Email: \= x \kill
Plug-In name:   \> polarhist\>  File:  \> math/statistik/polarhist.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/statistik/OpenCV_match.C
% ------------------------------------------------------------

\section{Opencvmatch}

% Name=opencvmatch

% Author=Percy Zahl

% Email=zahl@users.sf.net

% Menupath=Math/Statistics/Opencvmatch

\label{pi:opencvmatch}
\subsubsection{Description}

The OpenCV Match...

\subsubsection{Usage}

Call it from Gxsm Math/Statistics menu. It will prompt for the number
of bins and provides a estimated number as default. Also the current
min/max Z-value limits and range is shown for informative purpose.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Objects}

A optional rectangle can not be used. Use crop before!

\subsubsection{Destination}

The computation result is placed into an new profile view.

%% OptPlugInConfig
%The number of bins can be set.

%% OptPlugInFiles
%Needs/creates no files.

%% OptPlugInRefs
%nope.

%% OptPlugInKnownBugs
%No known.

%% OptPlugInNotes
%Hmm, no notes\dots

\GxsmHint{
Find out what happenes with more or less bins!
}

\index{C-PlugIn!math/statistik/OpenCV\_match.C}
\index{PlugIn!opencvmatch}
\index{GXSM-Menu!Math/Statistics/Opencvmatch}
\subsubsection{Info for Plug-In: Math/Statistics/Opencvmatch }
\begin{tabbing}
Plug-In name:   \= Percy Zahlopencvmatch \= Email: \= x \kill
Plug-In name:   \> opencvmatch\>  File:  \> math/statistik/OpenCV\_match.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/statistik/vorlage.C
% ------------------------------------------------------------

\section{Vorlage (Template) PlugIn}
%%  * please replace the DocuCaption "Vorlage..." 
%%  * with a intuitive and short caption!
%%  * please also replace the entries below!
% Name=vorlage
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Misc/Vorlage

\label{Gxsm-PlugIn-Vorlage}

\label{pi:vorlage}
\subsubsection{Description}

%% * replace this section by your PlugIn description!
 This is a ``Vorlage'' (German for template) PlugIn. It's purpose is to be a
 template for easy start with writing a new PlugIn and for
 demonstration how a simple PlugIn works as well. The code is
 extensively commented and it includes a nine step instructions list
 for staring your new PlugIn.

\subsubsection{Usage}

%% * Write how to use it.
 This PlugIn is not build and loaded, because it is not
 listed in \GxsmFile{Makefile.am}.

%% OptPlugInSection: replace this by the section caption
%all following lines until next tag are going into this section
%...

%% OptPlugInSubSection: replace this line by the subsection caption
%all following lines until next tag are going into this subsection
%...

\subsubsection{Building a new PlugIn in nine steps}

 \begin{enumerate}
 \item Make a copy of this \GxsmFile{vorlage.C} to \GxsmFile{your\_plugins\_name.C}!
 \item Replace all ``vorlage'' by ``your\_plugins\_name''\\
   $\longrightarrow$ please do a search and replace starting here (top of file) NOW!! (Emacs doese preserve caps!)
 \item Decide: One or Two Source Math:\\ search for ``\#define GXSM\_ONE\_SRC\_PLUGIN\_\_DEF''
 \item Fill in GxsmPlugin Structure, see below
 \item Replace the ``about\_text'' below a desired
 \item Optional: Start your Code/Vars definition below (if needed more than the run-fkt itself!),
   search for ``6.)''. please, and see comment there!!
 \item Fill in math code in vorlage\_run(), have a look at the Data-Access methods infos at end
 \item Add \GxsmFile{vorlage.C} to the Makefile.am in analogy to others
 \item Make a ``make; make install''
 \item[A.] Call \GxsmMenu{Tools/reload Plugins}, be happy!
 \item[B.] Have a look at the PlugIn Documentation section starting at the beginning 
   (this is, what you are reading here!) and please fill out this section to provide a proper documentation.\\
   $\longrightarrow$ rebuild the Gxsm manual in Gxsm/Docs/Manual:\\
   run \GxsmFile{./docuscangxsmplugins.pl; latex Gxsm-main} there!
 \item[\dots] That's it!
 \end{enumerate}

%% you can repeat OptPlugIn(Sub)Sections multiple times!

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Objects}

A optional rectangle is used for data extraction\dots

\subsubsection{Destination}

The computation result is placed into an existing math channel, else into a new created math channel.

\subsubsection{Configuration}

Describe the configuration options of your plug in here!

\subsubsection{Files}

This PlugIn is located here: \GxsmFile{Gxsm/plug-ins/math/statistik/vorlage.C}\\
If your PlugIn uses, needs, creates any files, then put the info here!

\subsubsection{References}

Any references about algorithm sources, etc.?

\subsubsection{Known Bugs}

Are there known bugs? List! How to work around if not fixed?

\GxsmNote{
If you have any additional notes, place them here!
}

\GxsmHint{
Any hints, tips or tricks? Yeah!\\
Check out the more automatic math PlugIn building script:
Go to dir \GxsmFile{Gxsm/plug-ins} and run \GxsmFile{generate\_math\_plugin.sh} there!\\
And never mind, use any existing PlugIn as template as well, but
please please copy and rename it properly before!
}

\index{C-PlugIn!math/statistik/vorlage.C}
\index{PlugIn!vorlage}
\index{GXSM-Menu!Math/Misc/Vorlage}
\subsubsection{Info for Plug-In: Math/Misc/Vorlage }
\begin{tabbing}
Plug-In name:   \= Percy Zahlvorlage \= Email: \= x \kill
Plug-In name:   \> vorlage\>  File:  \> math/statistik/vorlage.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/statistik/add_trail.C
% ------------------------------------------------------------

\section{Add Trail}
% Name=add\_trail
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Statistics/Add Trail

\label{pi:addtrail}
\subsubsection{Description}

Add's trail local height to Z at positions in scan.

\subsubsection{Usage}

Call \GxsmMenu{Math/Statistics/Add Trail}.

\subsubsection{Sources}

The active channel is used as data source.

%% OptPlugInObjects
%A optional rectangle is used for data extraction...

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel.

\index{C-PlugIn!math/statistik/add\_trail.C}
\index{PlugIn!add\_trail}
\index{GXSM-Menu!Math/Statistics/Add Trail}
\subsubsection{Info for Plug-In: Math/Statistics/Add Trail }
\begin{tabbing}
Plug-In name:   \= Percy Zahladd\_trail \= Email: \= x \kill
Plug-In name:   \> add\_trail\>  File:  \> math/statistik/add\_trail.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/statistik/slopeabs.C
% ------------------------------------------------------------

\section{Calculate gradient (slope)}

% Name=SlopeAbs

% Author=Percy Zahl

% Email=zahl@users.sf.net

% Menupath=Math/Statistics/Slope Abs

\label{pi:SlopeAbs}
\subsubsection{Description}

Calculation of the absolute local slope (gradient) using a user
defined facet size at each pixel as reference area.  A plane
regression is performed at each pixel to find the best matching local
facet of the given size. Its normal is used to find the gradient.

\subsubsection{Usage}

Activate chanel to use and call it from Menu \emph{Math/Statistics/Slope Abs}.

\subsubsection{Sources}

The active channel is used.

\subsubsection{Destination}

Existing Math channel, else newly created Math channel.

\subsubsection{Configuration}

Can set a default facet size, if set to zero it will ask at each call.

\subsubsection{Known Bugs}

No bugs known.

\index{C-PlugIn!math/statistik/slopeabs.C}
\index{PlugIn!SlopeAbs}
\index{GXSM-Menu!Math/Statistics/Slope Abs}
\subsubsection{Info for Plug-In: Math/Statistics/Slope Abs }
\begin{tabbing}
Plug-In name:   \= Percy ZahlSlopeAbs \= Email: \= x \kill
Plug-In name:   \> SlopeAbs\>  File:  \> math/statistik/slopeabs.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/statistik/OpenCV_recenter.C
% ------------------------------------------------------------

\section{OpenCV Re-Center Feature}

% Name=opencvrecenter

% Author=Percy Zahl

% Email=zahl@users.sf.net

% Menupath=Math/Statistics/Opencvrecenter

\label{pi:opencvrecenter}
\subsubsection{Description}

The OpenCV Recenter Feature identifies the most likely position of a
given template feature (hold in a Channel set to Mode-X) in the active
channel and sets the Scan-Offset to the resulting position.

\subsubsection{Usage}

Call it from Gxsm Math/Statistics menu.

\subsubsection{Sources}

The active channel is used as data source. Channel set to X-Mode is used as template.

\subsubsection{Objects}


\subsubsection{Destination}

The computation result of matching threasholds is placed into an new math channel for reference.

%% OptPlugInConfig

%% OptPlugInFiles

%% OptPlugInRefs

%% OptPlugInKnownBugs

%% OptPlugInNotes

\GxsmHint{
}

\index{C-PlugIn!math/statistik/OpenCV\_recenter.C}
\index{PlugIn!opencvrecenter}
\index{GXSM-Menu!Math/Statistics/Opencvrecenter}
\subsubsection{Info for Plug-In: Math/Statistics/Opencvrecenter }
\begin{tabbing}
Plug-In name:   \= Percy Zahlopencvrecenter \= Email: \= x \kill
Plug-In name:   \> opencvrecenter\>  File:  \> math/statistik/OpenCV\_recenter.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/statistik/VacancyLineAnalysis.C
% ------------------------------------------------------------

\section{Vacancy Line Analysis}
% Name=VacancyLineAnalysis
% Author=J.S. Palmer
% Email=jspalmer@mines.edu
% Menupath=Math/Statistics/Vacancy Line Analysis

\label{pi:VacancyLineAnalysis}
\subsubsection{Description}

This plugin is used to find the location of dimer vacancy lines.
It was designed to determine statistics of thin layers of SiGe.  A very
important feature to note is that scans must be rotated so that the
vacancy lines are vertical. Lines are searched for vertically down the
scan.  Line objects are used to mark the start and stop positions
for the vacancy lines

Four output results can be created. The most apparent is the copy of
the scan with the position of the vacancy lines standing out as raised
up. A second layer of that scan shows a 3D histogram of the relative
horizontal positions of two vacancies on the same vacancy line
separated by $n$ dimer rows.  $n=0$ is shown at the top of the screen and
the separations are all 0.  The next row down shows a histogram for
$n=1$, the next is $n=2$ and so forth up to $N$ rows down defined in the
configuration (Dimer Rows included in histogram).  The positions of
the vacancies are also saved to a file.  The last output is an
histogram of the space between vacancy lines.

\subsubsection{Usage}

Call it from \GxsmMenu{Math/Statistics/Vacancy Line Analysis}.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Objects}

Lines must be used to show where the vacancy lines should start and
end. Use  one line for each vacancy line to be located.

\subsubsection{Destination}

The position of the vacancy lines is displayed in the math channel or
a new channel if a math channel is not open.  This channel will have a
second layer showing a histogram of the vacancy line straightness. If
a histogram showing the vacancy line separation is chosen, a new
profile window is also opened.

\subsubsection{Configuration}

Several parameters are adjustable in the configuration window.  

\begin{description}
\item[Dimer Spacing] The spacing of the dimers -- is $7.68\:$\AA\ on Si.  
\item[Max Vacancy Line Shift] The horizontal distance searched in each
  direction for the position on the dimer vacancy.  Typical
  values are $2\dots3$ atomic rows.
\item[Pixels to Average] Number of pixels in horizontal direction to
  average in searching for vacancy.
\item[Dimer rows included in 3D Histogram] The Maximum number of dimer
  rows between two vacancies on the on the same vacancy line to be
  included in the histogram. ($N$ as described above in the Description
  area)
\item[3D Histogram Size] The size can be either $1:1$ (default), meaning
  that the horizontal scale is correct.  If $0$ is entered the output is
  scaled to fill the window.
\item[Line-Spacing Histogram Bin Width] The width of each bin in the
  histogram showing the vacancy line spacing.  If $0$ is entered no
  histogram is created.
\end{description}

\subsubsection{Files}

The user is prompted for an output file. A matrix is saved in the file
containing the positions of the vacancy lines.  Each column in the
matrix represents a vacancy line.  Each row represents a dimer row.
The value of a matrix position is the horizontal pixel coordinates of
the dimer vacancy.  A value of $-1$ means is is before the beginning of
the line or after the end of the line.  Two rows before the matrix are
used to designate the row number for the first and last dimer vacancy
in that column (vacancy line).  The first row is designated as $0$.
Also included in the heading is the dimer spacing used, which gives
the conversion for rows to vertical position, and the x and y pixel
spacing. The x pixel spacing provide a conversion from pixel position
to horizontal position.
 

%% OptPlugInRefs
%nope.

%% OptPlugInKnownBugs
%No known.

%% OptPlugInNotes
%Hmm, no notes\dots

\GxsmHint{
Here is a quick check list:
\begin{enumerate}
\item Rotate the scan so the Vacancy lines are as close to vertical as
possible.
\item Move start and stop positions or divide a line in two using two
\item Save your line objects -- it is time consuming to put them in and
\item Determine the correct dimer spacing for your image using a
\end{enumerate}
}

\index{C-PlugIn!math/statistik/VacancyLineAnalysis.C}
\index{PlugIn!VacancyLineAnalysis}
\index{GXSM-Menu!Math/Statistics/Vacancy Line Analysis}
\subsubsection{Info for Plug-In: Math/Statistics/Vacancy Line Analysis }
\begin{tabbing}
Plug-In name:   \= J.S. PalmerVacancyLineAnalysis \= Email: \= x \kill
Plug-In name:   \> VacancyLineAnalysis\>  File:  \> math/statistik/VacancyLineAnalysis.C\\
Author:	        \> J.S. Palmer\>  Email: \> jspalmer@mines.edu\\
\end{tabbing}

% PlugIn: ./plug-ins/math/statistik/histoHOP.C
% ------------------------------------------------------------

% PlugIn: ./plug-ins/math/statistik/mathilbl.C
% ------------------------------------------------------------

% PlugIn: ./plug-ins/math/statistik/spasimkz.C
% ------------------------------------------------------------

\section{SPA--LEED 1D profile simulation $k_z$.}
% Name=spasimkz
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Statistics/SPALEED Simkz

\label{pi:spasimkz}
\subsubsection{Description}

Calculates SPA--LEED Profiles over phase (S) e.g. a $k_z$-plot:\\
For each phase S (S=2 StepHeight/WaveLength) a 1D fourier
transformation is calculated for all image lines, which are phase
transformed before. All transformed lines for this phase are summed up
and stored to the new image as Line 'S'.

Def. Phase Transformation:
\[e^{2\pi i S Z(x,y)}\]

%\clearpage
Algorithm (shortened, extracted from source):

\begin{verbatim}
 for(i=0, S=PhaseStart; i<Dest->data.s.ny; S+=PhaseStep, ++i){
    // PhaseTrans:
    // transform scan data to complex data with correct phase
    double sf = 2. * M_PI * S * Src->data.s.dz / StepHeight;
    for (int line=0; line < Src->mem2d->GetNy(); line++) {
        Src->mem2d->data->SetPtr(0, line);
        for (int col=0; col < Src->mem2d->GetNx(); col++) {
            double arg = sf * Src->mem2d->data->GetNext();
            c_re(htrans[col]) = cos(arg);
            c_im(htrans[col]) = sin(arg);
        }

      // do FFT
      fftw( plan, 1, htrans, 1, 0, hkspc, 1, 0);

      // StoreAbsolute, Add to Dest [double]
      Dest->mem2d->data->SetPtr(0, i);
      for (int j = 0; j<Src->mem2d->GetNx(); ++j){
          int k=QSWP(j, Dest->mem2d->GetNx());
          Dest->mem2d->data->SetNext( 
              Dest->mem2d->data->GetThis()
              + c_re(hkspc[k])*c_re(hkspc[k]) 
              + c_im(hkspc[k])*c_im(hkspc[k])
                                    );
      }
    }
  }
\end{verbatim}


\subsubsection{Usage}

Call from \GxsmMenu{Math/Statistics/SPALEED Simkz.} and input the step
height, phase range and phase step size.

\subsubsection{Sources}

The active channel is used as data source.

%% OptPlugInObjects
%A optional rectangle is used for data extraction...

\subsubsection{Destination}

The computation result is placed into an existing math channel, else into a new created math channel.

\subsubsection{Configuration}

Use the Plug-In configurator to set default values. Use the entry
\GxsmEmph{Ask Next} to prevent or reenable further asking for
parameters (1 will ask, 0 not).

%% OptPlugInFiles
%Does it uses, needs, creates any files? Put info here!

%% OptPlugInKnownBugs
%

%% OptPlugInNotes
%

%% OptPlugInHints
%

\index{C-PlugIn!math/statistik/spasimkz.C}
\index{PlugIn!spasimkz}
\index{GXSM-Menu!Math/Statistics/SPALEED Simkz}
\subsubsection{Info for Plug-In: Math/Statistics/SPALEED Simkz }
\begin{tabbing}
Plug-In name:   \= Percy Zahlspasimkz \= Email: \= x \kill
Plug-In name:   \> spasimkz\>  File:  \> math/statistik/spasimkz.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/statistik/baseinfo.C
% ------------------------------------------------------------

% PlugIn: ./plug-ins/math/statistik/average_profile.C
% ------------------------------------------------------------

\section{Average X Profile}
% Name=average\_profile
% Author=P. Zahl
% Email=zahl@gxsm.sf.net
% Menupath=Math/Statistics/Average X Profile

\label{pi:averageprofile}
\subsubsection{Description}

Compute the average X profile of all scanlines.

%% PlugInUsage


%% OptPlugInSection: replace this by the section caption
%all following lines until next tag are going into this section
%...

%% OptPlugInSubSection: replace this line by the subsection caption
%all following lines until next tag are going into this subsection
%...

%% you can repeat OptPlugIn(Sub)Sections multiple times!

%% OptPlugInSources
%The active channel is used as data source.

%% OptPlugInObjects
%A optional rectangle is used for data extraction...

%% OptPlugInDest
%The computation result is placed into an existing math channel, else into a new created math channel.

%% OptPlugInConfig
%describe the configuration options of your plug in here!

%% OptPlugInFiles
%Does it uses, needs, creates any files? Put info here!

%% OptPlugInRefs
%Any references?

%% OptPlugInKnownBugs
%Are there known bugs? List! How to work around if not fixed?

%% OptPlugInNotes
%If you have any additional notes

%% OptPlugInHints
%Any tips and tricks?

\index{C-PlugIn!math/statistik/average\_profile.C}
\index{PlugIn!average\_profile}
\index{GXSM-Menu!Math/Statistics/Average X Profile}
\subsubsection{Info for Plug-In: Math/Statistics/Average X Profile }
\begin{tabbing}
Plug-In name:   \= P. Zahlaverage\_profile \= Email: \= x \kill
Plug-In name:   \> average\_profile\>  File:  \> math/statistik/average\_profile.C\\
Author:	        \> P. Zahl\>  Email: \> zahl@gxsm.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/statistik/autocorrelation.C
% ------------------------------------------------------------

\section{Autocorrelation}
% Name=autocorrelation
% Author=Erik Muller
% Email=emmuller@users.sourceforge.net
% Menupath=Math/Statistic/Auto Correlation

\label{pi:autocorrelation}
\subsubsection{Description}

Computes the autocorrelation of an image.

\[ Z' = |\text{IFT} (\text{FT} (Z))| \]

\subsubsection{Usage}

Call \GxsmMenu{Math/Statistic/Auto Correlation} to execute.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel.

\GxsmNote{
The quadrants of the resulting invers spectrum are aligned in a way,
that the intensity of by it self correlated pixels (distance zero) is
found at the image center and not at all four edges.
}

\index{C-PlugIn!math/statistik/autocorrelation.C}
\index{PlugIn!autocorrelation}
\index{GXSM-Menu!Math/Statistic/Auto Correlation}
\subsubsection{Info for Plug-In: Math/Statistic/Auto Correlation }
\begin{tabbing}
Plug-In name:   \= Erik Mullerautocorrelation \= Email: \= x \kill
Plug-In name:   \> autocorrelation\>  File:  \> math/statistik/autocorrelation.C\\
Author:	        \> Erik Muller\>  Email: \> emmuller@users.sourceforge.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/statistik/spasim.C
% ------------------------------------------------------------

\section{SPA--LEED simulation}
% Name=spasim
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Statistik/SPALEED Sim.

\label{pi:spasim}
\subsubsection{Description}

 This Plugin simulates a SPA-LEED measurement (asks for the electron
 wave lenght $\lambda$ as input) using the following transformation:

\begin{enumerate}
\item phase transformation, using 
  \[e^\frac{2\pi i Z(x,y)}{\lambda}\]
\item 2 dim. fourier transformation of the phase transformed image
\item the resulting intensity is stored: $|FT(\text{phase trans. image})|^2$
\end{enumerate}

The resulting scan is scaled to have a size of $\pm100$ (full width is
one. To automatically calculate realspace dimensions $\Gamma$ from
inverse of spot separation (e.g. from center (0,0) to some spot or
lenght of the line object) enable \GxsmEmph{InvAng} with the PlugIn configurator!
By default coordinates in pixels  are used (center is (0,0)).

\GxsmNote{Remember: One pixel distance (e.g. in X) corresponds to the
full width of the original picture!}

\subsubsection{Usage}

Call from \GxsmMenu{Math/Statistics/SPALEED Sim.} and input $\lambda$
in Angstroems.

\subsubsection{Sources}

The active channel is used as data source.

%% OptPlugInObjects
%A optional rectangle is used for data extraction...

\subsubsection{Destination}

The computation result is placed into an existing math channel, else into a new created math channel.

\subsubsection{Configuration}

Using the Plug-In configurator you can preset the wave lenght $\lambda$.

%% OptPlugInFiles
%Does it uses, needs, creates any files? Put info here!

\subsubsection{Known Bugs}

The show-line object did not work with the \GxsmEmph{InvAng} setting
-- sorry, but you can still save the data, but it will not show any
profile.

%% OptPlugInNotes

\GxsmHint{
You may want to carefully background correct you image before! Check
also for correct step heights, if applicable.
}

\index{C-PlugIn!math/statistik/spasim.C}
\index{PlugIn!spasim}
\index{GXSM-Menu!Math/Statistik/SPALEED Sim.}
\subsubsection{Info for Plug-In: Math/Statistik/SPALEED Sim. }
\begin{tabbing}
Plug-In name:   \= Percy Zahlspasim \= Email: \= x \kill
Plug-In name:   \> spasim\>  File:  \> math/statistik/spasim.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/statistik/histogram.C
% ------------------------------------------------------------

\section{Histogram}

% Name=histogram

% Author=Percy Zahl

% Email=zahl@users.sf.net

% Menupath=Math/Statistics/Histogram

\label{pi:histogram}
\subsubsection{Description}

The Histogram plugin calculates the Z-value distribution (typically a
height histogram) of the active channel using a default (estimated from data)
or user provided number of bins.

\subsubsection{Usage}

Call it from Gxsm Math/Statistics menu. It will prompt for the number
of bins and provides a estimated number as default. Also the current
min/max Z-value limits and range is shown for informative purpose.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Objects}

A optional rectangle can not be used. Use crop before!

\subsubsection{Destination}

The computation result is placed into an new profile view.

%% OptPlugInConfig
%The number of bins can be set.

%% OptPlugInFiles
%Needs/creates no files.

%% OptPlugInRefs
%nope.

%% OptPlugInKnownBugs
%No known.

%% OptPlugInNotes
%Hmm, no notes\dots

\GxsmHint{
Find out what happenes with more or less bins!
}

\index{C-PlugIn!math/statistik/histogram.C}
\index{PlugIn!histogram}
\index{GXSM-Menu!Math/Statistics/Histogram}
\subsubsection{Info for Plug-In: Math/Statistics/Histogram }
\begin{tabbing}
Plug-In name:   \= Percy Zahlhistogram \= Email: \= x \kill
Plug-In name:   \> histogram\>  File:  \> math/statistik/histogram.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}



% Subdirectory: ./plug-ins/math/convert
% ------------------------------------------------------------

\chapter{Plug-Ins: math/convert}

% Inclusion of PlugInClassIntro: ./plug-ins/math/convert/PlugInClass.doc


The \emph{math/convert} plugins are used for scan data type convertsion,
such as converting from \GxsmEmph{short} to \GxsmEmph{float}.

% PlugIn: ./plug-ins/math/convert/make_test.C
% ------------------------------------------------------------

\section{Generate test data}
% Name=make\_test
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Convert/make test

\label{pi:maketest}
\subsubsection{Description}

Makes a test data set -- for test and demostration purpose only.

\subsubsection{Usage}

Call \GxsmMenu{Math/Convert/make test}.

\subsubsection{Sources}


\subsubsection{Destination}


\index{C-PlugIn!math/convert/make\_test.C}
\index{PlugIn!make\_test}
\index{GXSM-Menu!Math/Convert/make test}
\subsubsection{Info for Plug-In: Math/Convert/make test }
\begin{tabbing}
Plug-In name:   \= Percy Zahlmake\_test \= Email: \= x \kill
Plug-In name:   \> make\_test\>  File:  \> math/convert/make\_test.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/convert/short_to_short.C
% ------------------------------------------------------------

\section{Convert to short, apply custom fix filter}
% Name=short\_to\_short
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Convert/to short fix

\label{pi:shorttoshort}
\subsubsection{Description}

Convert scan data type to short and apply a custom fix (-32768 $\rightarrow$ +32766).

\subsubsection{Usage}

Call \GxsmMenu{Math/Convert/to short fix}.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Destination}

The conversion result is placed into an existing math channel, else
into a new created math channel.

% OptPlugInNote
This is a special temporary hack, only loaded if Instrument is set to SNOM.

\index{C-PlugIn!math/convert/short\_to\_short.C}
\index{PlugIn!short\_to\_short}
\index{GXSM-Menu!Math/Convert/to short fix}
\subsubsection{Info for Plug-In: Math/Convert/to short fix }
\begin{tabbing}
Plug-In name:   \= Percy Zahlshort\_to\_short \= Email: \= x \kill
Plug-In name:   \> short\_to\_short\>  File:  \> math/convert/short\_to\_short.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/convert/to_double.C
% ------------------------------------------------------------

\section{Convert to double}
% Name=to\_double
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Convert/to double

\label{pi:todouble}
\subsubsection{Description}

Convert scan data type to double.

\subsubsection{Usage}

Call \GxsmMenu{Math/Convert/to double}.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Destination}

The conversion result is placed into an existing math channel, else
into a new created math channel.

\index{C-PlugIn!math/convert/to\_double.C}
\index{PlugIn!to\_double}
\index{GXSM-Menu!Math/Convert/to double}
\subsubsection{Info for Plug-In: Math/Convert/to double }
\begin{tabbing}
Plug-In name:   \= Percy Zahlto\_double \= Email: \= x \kill
Plug-In name:   \> to\_double\>  File:  \> math/convert/to\_double.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/convert/to_short.C
% ------------------------------------------------------------

\section{Convert to short}
% Name=to\_short
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Convert/to short

\label{pi:toshort}
\subsubsection{Description}

Convert scan data type to short.

\subsubsection{Usage}

Call \GxsmMenu{Math/Convert/to short}.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Destination}

The conversion result is placed into an existing math channel, else
into a new created math channel.

% OptPlugInNote
Conversion from higher to lower dynamic range type may result in
overflow, e.g. value wrapping round. There is no saturation mode yet.

\index{C-PlugIn!math/convert/to\_short.C}
\index{PlugIn!to\_short}
\index{GXSM-Menu!Math/Convert/to short}
\subsubsection{Info for Plug-In: Math/Convert/to short }
\begin{tabbing}
Plug-In name:   \= Percy Zahlto\_short \= Email: \= x \kill
Plug-In name:   \> to\_short\>  File:  \> math/convert/to\_short.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/convert/to_long.C
% ------------------------------------------------------------

\section{Convert to long}
% Name=to\_long
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Convert/to long

\label{pi:tolong}
\subsubsection{Description}

Convert scan data type to long.

\subsubsection{Usage}

Call \GxsmMenu{Math/Convert/to long}.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Destination}

The conversion result is placed into an existing math channel, else
into a new created math channel.

% OptPlugInNote
Conversion from higher to lower dynamic range type may result in
overflow, e.g. value wrapping round. There is no saturation mode yet.

\index{C-PlugIn!math/convert/to\_long.C}
\index{PlugIn!to\_long}
\index{GXSM-Menu!Math/Convert/to long}
\subsubsection{Info for Plug-In: Math/Convert/to long }
\begin{tabbing}
Plug-In name:   \= Percy Zahlto\_long \= Email: \= x \kill
Plug-In name:   \> to\_long\>  File:  \> math/convert/to\_long.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/convert/to_byte.C
% ------------------------------------------------------------

\section{Convert to byte}
% Name=to\_byte
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Convert/to byte

\label{pi:tobyte}
\subsubsection{Description}

Convert scan data type to byte.

\subsubsection{Usage}

Call \GxsmMenu{Math/Convert/to byte}.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Destination}

The conversion result is placed into an existing math channel, else
into a new created math channel.

% OptPlugInNote
Conversion from higher to lower dynamic range type may result in
overflow, e.g. value wrapping round. There is no saturation mode yet.

\index{C-PlugIn!math/convert/to\_byte.C}
\index{PlugIn!to\_byte}
\index{GXSM-Menu!Math/Convert/to byte}
\subsubsection{Info for Plug-In: Math/Convert/to byte }
\begin{tabbing}
Plug-In name:   \= Percy Zahlto\_byte \= Email: \= x \kill
Plug-In name:   \> to\_byte\>  File:  \> math/convert/to\_byte.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/convert/to_complex.C
% ------------------------------------------------------------

\section{Convert to complex}
% Name=to\_complex
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Convert/to complex

\label{pi:tocomplex}
\subsubsection{Description}

Convert scan data type to complex. Therefore layer 0 is used to hold
the absolute value, layer 1 the real part and layer 2 for the imaginary part. A conversion to it
will set the imaginary part to zero, a conversion from complex to a
scalar type will compute the magnitude fom re and im, ignoring the possible existing abs value!

\subsubsection{Usage}

Call \GxsmMenu{Math/Convert/to complex}.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Destination}

The conversion result is placed into an existing math channel, else
into a new created math channel.

\index{C-PlugIn!math/convert/to\_complex.C}
\index{PlugIn!to\_complex}
\index{GXSM-Menu!Math/Convert/to complex}
\subsubsection{Info for Plug-In: Math/Convert/to complex }
\begin{tabbing}
Plug-In name:   \= Percy Zahlto\_complex \= Email: \= x \kill
Plug-In name:   \> to\_complex\>  File:  \> math/convert/to\_complex.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/convert/uto_float.C
% ------------------------------------------------------------

\section{Convert Unsigned to float}
% Name=uto\_float
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Convert/to float

\label{pi:utofloat}
\subsubsection{Description}

Convert scan data type to float. While converting a unsigned short in signed short type is expected and corrected.
This is a hack for fixing imported data.

The transformation used, applied to all data in H:

\[\text{if} \quad Z < 0 \quad \text{then} \quad  Z' = Z + 2^{16} \quad \text{else} \quad Z' = Z\]


\subsubsection{Usage}

Call \GxsmMenu{Math/Convert/U to float}.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Destination}

The conversion result is placed into an existing math channel, else
into a new created math channel.

\index{C-PlugIn!math/convert/uto\_float.C}
\index{PlugIn!uto\_float}
\index{GXSM-Menu!Math/Convert/to float}
\subsubsection{Info for Plug-In: Math/Convert/to float }
\begin{tabbing}
Plug-In name:   \= Percy Zahluto\_float \= Email: \= x \kill
Plug-In name:   \> uto\_float\>  File:  \> math/convert/uto\_float.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/convert/to_float.C
% ------------------------------------------------------------

\section{Convert to float}
% Name=to\_float
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Convert/to float

\label{pi:tofloat}
\subsubsection{Description}

Convert scan data type to float.

\subsubsection{Usage}

Call \GxsmMenu{Math/Convert/to float}.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Destination}

The conversion result is placed into an existing math channel, else
into a new created math channel.

\index{C-PlugIn!math/convert/to\_float.C}
\index{PlugIn!to\_float}
\index{GXSM-Menu!Math/Convert/to float}
\subsubsection{Info for Plug-In: Math/Convert/to float }
\begin{tabbing}
Plug-In name:   \= Percy Zahlto\_float \= Email: \= x \kill
Plug-In name:   \> to\_float\>  File:  \> math/convert/to\_float.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}



% Subdirectory: ./plug-ins/math/probe
% ------------------------------------------------------------

\chapter{Plug-Ins: math/probe}

% Inclusion of PlugInClassIntro: ./plug-ins/math/probe/PlugInClass.doc


The \emph{math/probe} plugins are designated for probe data analysis
and extraction or separation. They deal with all kind of probe and
event data attached to a scan.


A quick Overview of the ScanEvent interface: -- to be translated --

\begin{verbatim}
Also zum Einstieg, solltet Ihr Euch ein wenig mit dem Event-Handling
vertraut machen, mal scan_event.[hC] studieren -- die NetCDF load/save
routinen knnt Ihr einfach irgnorieren. Diese wird dann von mem2d.[hC]
verwendet, jedoch weniger wichtig, einzig was in mem2d.h von interesse
ist, ist die eine (und einizge) Liste (public in mem2d)

        GSList *scan_event_list;

die alle ScanEvents (Probe und User, etc...!!) enthlt.


Also zum berblick vielleicht gebe ich mal eine Kurzeinfhrung:

GSList *scan_event_list;  ist eine GSList die pointer von Type ScanEvent
enthlt.

Class ScanEvent ist ein Abstrakter Event (jedes types), und ScanEvent
hlt nicht mehr als die Koordinaten XYV + Event(s) (eine Art
Vierervektor, wenn man die Events selber noch mitnimmt und als t
sieht-:). (V == Value, optional und zur Zeit noch nicht verwendet, ist
jedoch nur logisch vorzusehen, wenn ich an Layered Scan denke (jeder
Layer N hat einen zugeordneten Value "V"), XY Koordinate ist in
absoluten Angstroems (incl Offset/Rotation!).

Also:

Der ScanEvent im berblick, der Konstructor: (bentigt Ihr nicht)
class ScanEvent
ScanEvent (double xPos, double yPos, double Val=0.);

Wichtige Member Funktionen ggf. von Interesse:

        void add_event (EventEntry *ee); // Einen realen Daten-Event (mit Daten!) hinzufgen 
        double get_position (double &x, double &y); // Position abfragen (in kommt zurck in x,y, value als return wert)
        double distance (double *xy); // Abstand zu Punkt xy, ist array xy[]={X,Y, (V, ...)_Future}
        guint get_event_count() ; // Anzahl Events in Liste

Data:
        GSList *event_list; // Liste von Daten-Events "hier" bei XYV, 
                            // i.a. nur ein DatenEvent, type der Pointer ist "EventEntry".


Dann wre da die Basis Class "EventEntry" (Ist Basis aller "Daten-Events)

class EventEntry
EventEntry (gchar *Name, time_t Time);

Ein EventEntry hat also einen Namen und eine Zeit (Zeit Koordinate,
time_t)

Wichtig: Ich habe als "Konevntion" Probe Events mit dem Namen "Probe"
versehen und User Events mit dem Namen "User", ist zum Identifikation.
Und Weiterhin sollen die Anfangsbuchstaben von Probe und User
eineindeutig sein, d.h. 'P' fr Probe:

        gchar* description () { return name; }; // der volle Name
        gchar description_id () { return name[0]; }; // Identifikation via Initial (for speed reasons)


Dann gibt es den ProbeEntry  (etwas gestrippeder Code)  fr alle Probe
artigen Daten:

class ProbeEntry : public EventEntry{
public:
        ProbeEntry (gchar *Name, time_t Time, GPtrArray *Labels, GPtrArray
*Unitssymbols, int Chunk_size); // Name, zur Zeit nur "Probe", time,
// dann ein Array von Pointern auf Labels und auf Unitssymbols, und Chunk_size.

// Chunk_size ist die Anzahl der aufgezeichneten Channels des Probe, aus
// Performance grnden speichere ich den gazne Probe-Datensatz von
// N-Punkten * J-Channels in einem linearen GArray ab mit folgender
// linearisierter Indizierung: (n*chunk_size+j) -- OK?


        virtual double get (int n, int j) // gibt den Probe Wert des N-ten
// Punktes, Channel j zurck -- die j-indizierung stimmt mit der "j"
// Indizierung von Labels und Unitssym berein. - OK?


        int get_num_sets () { return num_sets; }; // Anzahl Daten Punkte (N)
        int get_chunk_size () { return chunk_size; }; // Anzahl Channels (J)
        gchar *get_label (int j);
        gchar *get_unit_symbol (int j);
}


Analog gibt es dann noch

class UserEntry : public EventEntry{
public:
        UserEntry (gchar *Name, time_t Time, GPtrArray *Messages=NULL, int
num=0); // Name == "User" per default
...}


---

Wichtig ist, das man bevor man einen Event aus der EventListe als
ProbeEvent interpretiert den Type checked via der "ID" Funktion! Klar?

\end{verbatim}

That's it.


% PlugIn: ./plug-ins/math/probe/afm_lj_mechanical_sim.C
% ------------------------------------------------------------

\section{AFM (NC-AFM) mechanical tip apex/molecule imaging simulations}
% Name=Unnamed
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Probe/AFM\_mechanical\_sim

\label{pi:Unnamed}
\subsubsection{Description}

Simulating NC-AFM images and force curves. Based on publication:

PHYSICAL REVIEW B 90, 085421 (2014)
Mechanism of high-resolution STM/AFM imaging with functionalized tips
Prokop Hapala --Institute of Physics, Academy of Sciences of the Czech Republic, v.v.i., Cukrovarnick a 10, 162 00 Prague, Czech Republic;
Georgy Kichin, Christian Wagner, F. Stefan Tautz, and Ruslan Temirov -- Peter Gr\"unberg Institut (PGI-3), Forschungszentrum J\"ulich, 52425 J\"ulich, Germany
and J\"ulich Aachen Research Alliance (JARA), Fundamentals of Future Information Technology, 52425 J\"ulich, Germany;
Pavel Jelinek -- Institute of Physics, Academy of Sciences of the Czech Republic, v.v.i., Cukrovarnick a 10, 162 00 Prague, Czech Republic and Graduate School of Engineering, Osaka University 2-1, Yamada-Oka, Suita, Osaka 565-0871, Japan

High-resolution atomic force microscopy (AFM) and scanning tunneling microscopy (STM) imaging with
functionalized tips is well established, but a detailed understanding of the imaging mechanism is still missing. We
present a numerical STM/AFM model, which takes into account the relaxation of the probe due to the tip-sample
interaction. We demonstrate that the model is able to reproduce very well not only the experimental intra- and
intermolecular contrasts, but also their evolution upon tip approach. At close distances, the simulations unveil a
significant probe particle relaxation towards local minima of the interaction potential. This effect is responsible
for the sharp submolecular resolution observed in AFM/STM experiments. In addition, we demonstrate that sharp
apparent intermolecular bonds should not be interpreted as true hydrogen bonds, in the sense of representing
areas of increased electron density. Instead, they represent the ridge between two minima of the potential energy
landscape due to neighboring atoms.

and

related Supplementary Material: The mechanism of high-resolution STM/AFM imaging with functionalized tips.

\subsubsection{Usage}

Call \GxsmMenu{Math/Probe/AFM mechanical sim}

\subsubsection{Sources}

The active channel is used as geometry/size/offset template only. Must be of type DOUBLE.

\subsubsection{Objects}

Input data file to load as external molecule/structure model.

"model.xyz" type file. 1st line: "N" number of atoms, 2nd line comment/name/info -- ignored.
Then atom 1...N in following lines. Format:

El X Y Z   
 C 0 0 0
 O 2.365 0.213 0.03
Cu 0.1 0.7 -3.5
...   

El=Element Symbol, mut be two characters like " C" " O" "Cu", then X Y Z  coordinates in Angstroem

\subsubsection{Destination}

The computation result is placed into an existing math channel, else into a new created math channel.

\subsubsection{Configuration}

The PlugIn configurator...

\index{C-PlugIn!math/probe/afm\_lj\_mechanical\_sim.C}
\index{PlugIn!Unnamed}
\index{GXSM-Menu!Math/Probe/AFM\_mechanical\_sim}
\subsubsection{Info for Plug-In: Math/Probe/AFM\_mechanical\_sim }
\begin{tabbing}
Plug-In name:   \= Percy ZahlUnnamed \= Email: \= x \kill
Plug-In name:   \> Unnamed\>  File:  \> math/probe/afm\_lj\_mechanical\_sim.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/probe/probe_image_extract.C
% ------------------------------------------------------------

\section{Probe Image Extract}
% Name=probe\_image\_extract
% Author=Bastian Weyers
% Email=weyers@users.sf.net
% Menupath=Math/Probe/Probe\_Image\_Extract

\label{pi:probeimageextract}
\subsubsection{Description}

Extract selected probe data/values and generates a new image from that.
Select a \GxsmEmph{Rectangle}.

\subsubsection{Usage}

Call \GxsmMenu{Math/Probe/Probe\_Image\_Extract}

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Objects}

A rectangle object is needed. Probe events must be present in the active scan.

\subsubsection{Destination}

The computation result is placed into an existing math channel, else into a new created math channel.

\subsubsection{Configuration}

The PlugIn configurator allows to set a default index andan chanel. If this is non
zero the user is not prompted!

\index{C-PlugIn!math/probe/probe\_image\_extract.C}
\index{PlugIn!probe\_image\_extract}
\index{GXSM-Menu!Math/Probe/Probe\_Image\_Extract}
\subsubsection{Info for Plug-In: Math/Probe/Probe\_Image\_Extract }
\begin{tabbing}
Plug-In name:   \= Bastian Weyersprobe\_image\_extract \= Email: \= x \kill
Plug-In name:   \> probe\_image\_extract\>  File:  \> math/probe/probe\_image\_extract.C\\
Author:	        \> Bastian Weyers\>  Email: \> weyers@users.sf.net\\
\end{tabbing}



% Subdirectory: ./plug-ins/math/filter1d
% ------------------------------------------------------------

\chapter{Plug-Ins: math/filter1d}

% Inclusion of PlugInClassIntro: ./plug-ins/math/filter1d/PlugInClass.doc


The \emph{math/filter1d} plugins are all type off math applied to scan
data in a line by line manner -- not needing to know what the previous
or next line data is, such as 1D derivation, inversion\dots

% PlugIn: ./plug-ins/math/filter1d/koehler.C
% ------------------------------------------------------------

\section{Koehler filter}
% Name=koehler
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Filter 1D/Koehler

\label{pi:koehler}
\subsubsection{Description}

\label{PlugIn-F1D-Koehler}
The Koehler filter differentiates the image data line by line (1D).
It uses a local weightened differentation and floating averagening.

Starting with the left value $Z_0$
\[ V_0 = Z_0 \]
and then using $0.92$ of the left and $0.08$ of the following $Z$ value:
\[ V_i = 0.92 V_{i-1} + 0.08 Z_i \quad \text{for all} \quad i\in{1, 2, \dots, N_x-1}\]

The next iteration doese the same starting at the right site with the current results:
\[ V_i = 0.92 V_{i+1} + 0.08 V_i \quad \text{for all} \quad i\in{N_x-2, N_x-3, \dots, 0}\]

Finally the difference of all $Z$ values with the weightened and averaged value is computed:
\[ Z'_i = Z_i - V_i \quad \text{for all} \quad i\in{0, 1, 2, \dots, N_x-1}\]

\subsubsection{Usage}

Call \GxsmMenu{Math/Filter 1D/Koehler}.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel.

\subsubsection{Configuration}

No -- the koefficients are constants and can only be changed in the PlugIn itself.

\subsubsection{References}

Filter is originated to PMSTM and Ulli Koehler?

\GxsmNote{
A similar effect (on a limited lenght) is used the the differential view now on the fly.
}

\index{C-PlugIn!math/filter1d/koehler.C}
\index{PlugIn!koehler}
\index{GXSM-Menu!Math/Filter 1D/Koehler}
\subsubsection{Info for Plug-In: Math/Filter 1D/Koehler }
\begin{tabbing}
Plug-In name:   \= Percy Zahlkoehler \= Email: \= x \kill
Plug-In name:   \> koehler\>  File:  \> math/filter1d/koehler.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/filter1d/timedomfftfilter.C
% ------------------------------------------------------------

\section{Time Domain FFT Filter}
% Name=timedomfftfilter
% Author=Percy Zahl
% Email=zahl@users.sourceforge.net
% Menupath=Math/Filter 2D/t dom filter

\label{pi:timedomfftfilter}
\subsubsection{Description}

This filter acts in one dimension on real time domain of the whole
scan. To use it you need the gap-less data of all times, i.e. the
forward and backward scan is needed and the scan data should also be
gap-less and real time at the turn-over points at the end/start of
every scan lines -- this is the case for the "SignalRanger"
implementation.

\GxsmNote{Backward scan data must be in reverse (mirrored in X), as
provided by the SignalRanger.}

\GxsmNote{Any X-scan directional slope will be automatically removed
in time domain by this filter, also the scan DC component will be
eliminated.}

The filter assembles a one dimensional data set in time domain from
scan start to scan end using forward and backward scan data
sets. Transforms this into frequency domain, eliminates all multiples of
scan-width frequency comnponents (tilt in scan direction) and cuts out
the user provided band, then transforms it back into time domain and
reassembles one double width images containing forward and backward
data.


\subsubsection{Usage}

Activate a channel containing the forward $\rightarrow$ scan data and
put the channel containing the backward $\leftarrow$ scan data into
mode X. Then execute the filter \GxsmMenu{Math/Filter 1D/t dom
filter}. It will ask for the stop badn position and half width in
inverse pixels.

%% OptPlugInSection: replace this by the section caption
%all following lines until next tag are going into this section
%...

%% OptPlugInSubSection: replace this line by the subsection caption
%all following lines until next tag are going into this subsection
%...

%% you can repeat OptPlugIn(Sub)Sections multiple times!

%% OptPlugInSources
%The active channel is used as data source.

%% OptPlugInObjects
%A optional rectangle is used for data extraction...

%% OptPlugInDest
%The computation result is placed into an existing math channel, else into a new created math channel.

%% OptPlugInConfig
%describe the configuration options of your plug in here!

%% OptPlugInFiles
%Does it uses, needs, creates any files? Put info here!

%% OptPlugInRefs
%Any references?

%% OptPlugInKnownBugs
%Are there known bugs? List! How to work around if not fixed?

%% OptPlugInNotes
This plugin is under construction.

%% OptPlugInHints
%Any tips and tricks?

\index{C-PlugIn!math/filter1d/timedomfftfilter.C}
\index{PlugIn!timedomfftfilter}
\index{GXSM-Menu!Math/Filter 2D/t dom filter}
\subsubsection{Info for Plug-In: Math/Filter 2D/t dom filter }
\begin{tabbing}
Plug-In name:   \= Percy Zahltimedomfftfilter \= Email: \= x \kill
Plug-In name:   \> timedomfftfilter\>  File:  \> math/filter1d/timedomfftfilter.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sourceforge.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/filter1d/linear_stat_diff.C
% ------------------------------------------------------------

\section{Linear stationary differentation}
% Name=linear\_stat\_diff
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Filter 1D/Lin stat diff

\label{pi:linearstatdiff}
\subsubsection{Description}

Edge enhancement via differentation as follows:
\[ I_i = \frac{1}{9}\sum_{k=i-4}^{i+4}Z_k \]
\[ Z'_i = \frac{1}{4}\frac{Z_i - I_i }
          {\sqrt{\frac{1}{2}\sum_{k=i-4}^{i+4}\left(Z_k-I_k\right)^2}}
        + \frac{I_i}{2}
\]

\subsubsection{Usage}

Call \GxsmMenu{Math/Filter 1D/Lin stat diff}.

\subsubsection{Sources}

The active channel is used as data source.

%% OptPlugInObjects
%A optional rectangle is used for data extraction...

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel.

%% OptPlugInConfig
%describe the configuration options of your plug in here!

%% OptPlugInFiles
%Does it uses, needs, creates any files? Put info here!

%% OptPlugInRefs
%Any references?

%% OptPlugInKnownBugs
%Are there known bugs? List! How to work around if not fixed?

%% OptPlugInNotes
%If you have any additional notes

%% OptPlugInHints
%Any tips and tricks?

\index{C-PlugIn!math/filter1d/linear\_stat\_diff.C}
\index{PlugIn!linear\_stat\_diff}
\index{GXSM-Menu!Math/Filter 1D/Lin stat diff}
\subsubsection{Info for Plug-In: Math/Filter 1D/Lin stat diff }
\begin{tabbing}
Plug-In name:   \= Percy Zahllinear\_stat\_diff \= Email: \= x \kill
Plug-In name:   \> linear\_stat\_diff\>  File:  \> math/filter1d/linear\_stat\_diff.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/filter1d/repair_cs.C
% ------------------------------------------------------------

\section{Repair filter}
% Name=repair\_cs
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Filter 1D/Repair

\label{pi:repaircs}
\subsubsection{Description}

This filter is obsolete for all Gxsm only users. It just fixes a
high/low words order bug -- occured while data transport from DSP to
host -- in line data, e.g. data points on columns $X_2n$ and
$X_{2n+1}$ are swapped, which happened in one special old version of
Xxsm (the predictor of Gxsm). It's here, because the original old data
are backed up and may be needed to be processed with this filter to
fix.

\subsubsection{Usage}

Call \GxsmMenu{Math/Filter 1D/Repair} to execute.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Destination}

The computation result is placed into an existing math channel, else into a new created math channel.

%% OptPlugInNotes
%If you have any additional notes

\index{C-PlugIn!math/filter1d/repair\_cs.C}
\index{PlugIn!repair\_cs}
\index{GXSM-Menu!Math/Filter 1D/Repair}
\subsubsection{Info for Plug-In: Math/Filter 1D/Repair }
\begin{tabbing}
Plug-In name:   \= Percy Zahlrepair\_cs \= Email: \= x \kill
Plug-In name:   \> repair\_cs\>  File:  \> math/filter1d/repair\_cs.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/filter1d/template.C
% ------------------------------------------------------------

\section{Template}
% Name=template
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Background/Template

\label{pi:template}
\subsubsection{Description}

Template action.

\subsubsection{Usage}

Call \GxsmMenu{Math/Background/Template}.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel.

\index{C-PlugIn!math/filter1d/template.C}
\index{PlugIn!template}
\index{GXSM-Menu!Math/Background/Template}
\subsubsection{Info for Plug-In: Math/Background/Template }
\begin{tabbing}
Plug-In name:   \= Percy Zahltemplate \= Email: \= x \kill
Plug-In name:   \> template\>  File:  \> math/filter1d/template.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/filter1d/despike1d.C
% ------------------------------------------------------------

\section{Despike 1d}
% Name=despike1d
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Background/Despike1d

\label{pi:despike1d}
\subsubsection{Description}

Despike 1d filter.

\subsubsection{Usage}

Call \GxsmMenu{Math/Filter 1D/Despike}.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel.

\index{C-PlugIn!math/filter1d/despike1d.C}
\index{PlugIn!despike1d}
\index{GXSM-Menu!Math/Background/Despike1d}
\subsubsection{Info for Plug-In: Math/Background/Despike1d }
\begin{tabbing}
Plug-In name:   \= Percy Zahldespike1d \= Email: \= x \kill
Plug-In name:   \> despike1d\>  File:  \> math/filter1d/despike1d.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/filter1d/diff.C
% ------------------------------------------------------------

\section{1dim differentation}
% Name=diff
% Author=Percy Zahl, Stefan Schroeder
% Email=zahl@users.sf.net
% Menupath=Math/Filter 1D/Diff

\label{pi:diff}
\subsubsection{Description}

One dimensional differentation\dots

\subsubsection{Usage}

Call \GxsmMenu{Math/Filter 1D/Diff}.
This plugin can be called from a
remote-control script with the command \GxsmTT{action('diff\_PI')}.
The kernel-size is then set to '5+1'.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel.

\index{C-PlugIn!math/filter1d/diff.C}
\index{PlugIn!diff}
\index{GXSM-Menu!Math/Filter 1D/Diff}
\subsubsection{Info for Plug-In: Math/Filter 1D/Diff }
\begin{tabbing}
Plug-In name:   \= Percy Zahl, Stefan Schroederdiff \= Email: \= x \kill
Plug-In name:   \> diff\>  File:  \> math/filter1d/diff.C\\
Author:	        \> Percy Zahl, Stefan Schroeder\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/filter1d/ft1d.C
% ------------------------------------------------------------

\section{Ft1d filter}
% Name=ft1d
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Filter 1D/Ft1d

\label{pi:ft1d}
\subsubsection{Description}

\label{PlugIn-F1D-Ft1d}
The ft1d filter: line by line FT.

\subsubsection{Usage}

Call \GxsmMenu{Math/Filter 1D/Ft1d}.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel.

\index{C-PlugIn!math/filter1d/ft1d.C}
\index{PlugIn!ft1d}
\index{GXSM-Menu!Math/Filter 1D/Ft1d}
\subsubsection{Info for Plug-In: Math/Filter 1D/Ft1d }
\begin{tabbing}
Plug-In name:   \= Percy Zahlft1d \= Email: \= x \kill
Plug-In name:   \> ft1d\>  File:  \> math/filter1d/ft1d.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}



% Subdirectory: ./plug-ins/math/misc
% ------------------------------------------------------------

\chapter{Plug-Ins: math/misc}

% Inclusion of PlugInClassIntro: ./plug-ins/math/misc/PlugInClass.doc


The \emph{math/misc} plugins are all types of math not fitting well
into all other sections here.

% PlugIn: ./plug-ins/math/misc/shape.C
% ------------------------------------------------------------

\section{Create a shape polygon from lines}
% Name=shape
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Misc/Shape

\label{pi:shape}
\subsubsection{Description}

A brief description goes here.

\subsubsection{Usage}

Call \GxsmMenu{Math/Misc/Shape}.

%% OptPlugInSection: replace this by the section caption
%all following lines until next tag are going into this section
%...

%% OptPlugInSubSection: replace this line by the subsection caption
%all following lines until next tag are going into this subsection
%...

%% you can repeat OptPlugIn(Sub)Sections multiple times!

%% OptPlugInSources
%The active channel is used as data source.

%% OptPlugInObjects
%A optional rectangle is used for data extraction...

%% OptPlugInDest
%The computation result is placed into an existing math channel, else into a new created math channel.

%% OptPlugInConfig
%describe the configuration options of your plug in here!

%% OptPlugInFiles
%Does it uses, needs, creates any files? Put info here!

%% OptPlugInRefs
%Any references?

%% OptPlugInKnownBugs
%Are there known bugs? List! How to work around if not fixed?

%% OptPlugInNotes
%If you have any additional notes

%% OptPlugInHints
%Any tips and tricks?

\index{C-PlugIn!math/misc/shape.C}
\index{PlugIn!shape}
\index{GXSM-Menu!Math/Misc/Shape}
\subsubsection{Info for Plug-In: Math/Misc/Shape }
\begin{tabbing}
Plug-In name:   \= Percy Zahlshape \= Email: \= x \kill
Plug-In name:   \> shape\>  File:  \> math/misc/shape.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/misc/workfuncextract.C
% ------------------------------------------------------------

\section{Smoothing layers in 3D}
% Name=workfuncextract
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Misc/Workfuncextract

\label{pi:workfuncextract}
\subsubsection{Description}

This filter extracts from a series of images in energy
(layer-dimension) the workfunction assuming the image intensity
dropping all sudden by a given percentage from it's near zero energy
value. (LEEM Mirror-Mode to Regular imaging transition detection) and
puts teh resulting energy (layer corresponding value) into the
destination image.

\subsubsection{Usage}

Call \GxsmMenu{Math/Misc/Workfuncextract}\dots

\subsubsection{Sources}

The active channel is used as data source.

%% OptPlugInObjects

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel.

%% OptPlugInConfig
%

%% OptPlugInFiles
%Does it uses, needs, creates any files? Put info here!

%% OptPlugInKnownBugs
%

\GxsmNote{
}

%% OptPlugInHints
%

\index{C-PlugIn!math/misc/workfuncextract.C}
\index{PlugIn!workfuncextract}
\index{GXSM-Menu!Math/Misc/Workfuncextract}
\subsubsection{Info for Plug-In: Math/Misc/Workfuncextract }
\begin{tabbing}
Plug-In name:   \= Percy Zahlworkfuncextract \= Email: \= x \kill
Plug-In name:   \> workfuncextract\>  File:  \> math/misc/workfuncextract.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/misc/psdadd.C
% ------------------------------------------------------------

\section{PSD add -- SARLS}
% Name=psdadd
% Author=Martin Langer, PZ
% Email=stefan\_fkp@users.sf.net
% Menupath=Math/Misc/PSD Add

\label{pi:psdadd}
\subsubsection{Description}

Experimental filter for adding PSD-slope-signals.

\subsubsection{Usage}

It is only available form \GxsmMenu{Math/Misc/PSD Add} if the
instrument type is set to SARLS or a reload of all PlugIns is forced.

\subsubsection{Sources}

The active and X channel is used as data sources.

%% OptPlugInObjects
%A optional rectangle is used for data extraction...

%% OptPlugInDest
%The computation result is placed into an existing math channel, else
%into a new created math channel.

%% OptPlugInRefs
%Any references?

%% OptPlugInKnownBugs
%Are there known bugs? List! How to work around if not fixed?

\GxsmNote{
I would appreciate if one of the current SARLS group members could
figure out more about this piece of code.
}

%% OptPlugInHints
%Any tips and tricks?

\index{C-PlugIn!math/misc/psdadd.C}
\index{PlugIn!psdadd}
\index{GXSM-Menu!Math/Misc/PSD Add}
\subsubsection{Info for Plug-In: Math/Misc/PSD Add }
\begin{tabbing}
Plug-In name:   \= Martin Langer, PZpsdadd \= Email: \= x \kill
Plug-In name:   \> psdadd\>  File:  \> math/misc/psdadd.C\\
Author:	        \> Martin Langer, PZ\>  Email: \> stefan\_fkp@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/misc/spectrocut.C
% ------------------------------------------------------------

\section{Cut spectra from 3D data}
% Name=spectrocut
% Author=Andreas Klust
% Email=klust@users.sf.net
% Menupath=Math/Misc/Spectrocut

\label{pi:spectrocut}
\subsubsection{Description}

\label{plugin:spectrocut}
This plug-in is made for choosing areas from a topograhic scan using the
\GxsmEmph{rectangle} object.  The spectra in the correspondent spectroscopic
data taken simultaneously with the topographic data are then cut out and
saved in a file.  Currently, only an index vector is saved in the GNU Octave
ASCII format for further analysis of the data.  Its filename is hard coded
("/tmp/spec.ivec").

\GxsmHint{
This plug-in is in a very alpha stage.
}

\subsubsection{Usage}

The topographic scan must be the active, the scan with the spectoscopic data
the X channel.  The plug-in is called via \GxsmMenu{Math/Misc/Spectrocut}.

%% OptPlugInKnownBugs
%No known.

\index{C-PlugIn!math/misc/spectrocut.C}
\index{PlugIn!spectrocut}
\index{GXSM-Menu!Math/Misc/Spectrocut}
\subsubsection{Info for Plug-In: Math/Misc/Spectrocut }
\begin{tabbing}
Plug-In name:   \= Andreas Klustspectrocut \= Email: \= x \kill
Plug-In name:   \> spectrocut\>  File:  \> math/misc/spectrocut.C\\
Author:	        \> Andreas Klust\>  Email: \> klust@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/misc/layersmooth.C
% ------------------------------------------------------------

\section{Smoothing layers in 3D}
% Name=layersmooth
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Misc/Layersmooth

\label{pi:layersmooth}
\subsubsection{Description}

This filter applies a gausian smooth to all layers of a scan. It can
also smooth accross layers in 3D, using a smoothing radius in
layer-dimension.

\subsubsection{Usage}

Call \GxsmMenu{Math/Misc/Layersmooth}\dots

\subsubsection{Sources}

The active channel is used as data source.

%% OptPlugInObjects

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel.

%% OptPlugInConfig
%

%% OptPlugInFiles
%Does it uses, needs, creates any files? Put info here!

%% OptPlugInKnownBugs
%

\GxsmNote{
Not jet finished, the 3D smooth (accross layers) is not jet
implemented. Please set Radius in Layer Dim to zero!
}

%% OptPlugInHints
%

\index{C-PlugIn!math/misc/layersmooth.C}
\index{PlugIn!layersmooth}
\index{GXSM-Menu!Math/Misc/Layersmooth}
\subsubsection{Info for Plug-In: Math/Misc/Layersmooth }
\begin{tabbing}
Plug-In name:   \= Percy Zahllayersmooth \= Email: \= x \kill
Plug-In name:   \> layersmooth\>  File:  \> math/misc/layersmooth.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/misc/minzlayer.C
% ------------------------------------------------------------

\section{Smoothing layers in 3D}
% Name=minzlayer
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Misc/Minzlayer

\label{pi:minzlayer}
\subsubsection{Description}

This filter extracts from a series of images in energy
(layer-dimension) the enegry (layer value lookup) fiding the MIN index/ image intensity at each pixel.
Resulting energy (layer corresponding value) is placed into the destination image.

\subsubsection{Usage}

Call \GxsmMenu{Math/Misc/Minzlayer}\dots

\subsubsection{Sources}

The active channel is used as data source.

%% OptPlugInObjects

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel.

%% OptPlugInConfig
%

%% OptPlugInFiles
%Does it uses, needs, creates any files? Put info here!

%% OptPlugInKnownBugs
%

\GxsmNote{
}

%% OptPlugInHints
%

\index{C-PlugIn!math/misc/minzlayer.C}
\index{PlugIn!minzlayer}
\index{GXSM-Menu!Math/Misc/Minzlayer}
\subsubsection{Info for Plug-In: Math/Misc/Minzlayer }
\begin{tabbing}
Plug-In name:   \= Percy Zahlminzlayer \= Email: \= x \kill
Plug-In name:   \> minzlayer\>  File:  \> math/misc/minzlayer.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/misc/make_volume.C
% ------------------------------------------------------------

\section{Absolute value}
% Name=make\_volume
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Arithmetic/Absoluet Value

\label{pi:makevolume}
\subsubsection{Description}

Takes the absoluet value.

\subsubsection{Usage}

Call \GxsmMenu{Math/Arithmetic/Absolute Value}.

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel. The result is of type \GxsmEmph{float}.

\index{C-PlugIn!math/misc/make\_volume.C}
\index{PlugIn!make\_volume}
\index{GXSM-Menu!Math/Arithmetic/Absoluet Value}
\subsubsection{Info for Plug-In: Math/Arithmetic/Absoluet Value }
\begin{tabbing}
Plug-In name:   \= Percy Zahlmake\_volume \= Email: \= x \kill
Plug-In name:   \> make\_volume\>  File:  \> math/misc/make\_volume.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/misc/findlocmax.C
% ------------------------------------------------------------

\section{Find local maxima -- SARLS}
% Name=findlocmax
% Author=M. Langer?
% Email=stefan\_fkp@users.sf.net
% Menupath=Math/Misc/Find Loc Max

\label{pi:findlocmax}
\subsubsection{Description}

Finds local maximan in a scan. One (unknown to me, PZ) unknown guy
(M.Langer?) of the SARLS group in hannover wrote this PlugIn for
searching of local maxima. It looks somehow specialized to me.

\subsubsection{Usage}

It is only available from \GxsmMenu{Math/Misc/Find Loc Max} if the
instrument type is set to SARLS or a reload of all PlugIns is forced.

\subsubsection{Sources}

The active channel is used as data source.

%% OptPlugInObjects
%A optional rectangle is used for data extraction...

%% OptPlugInDest
%The computation result is placed into an existing math channel, else
%into a new created math channel.

\subsubsection{Files}

Saves a list of local maxima in Ascii format (List of X Y Z) to a file.

%% OptPlugInRefs
%Any references?

%% OptPlugInKnownBugs
%Are there known bugs? List! How to work around if not fixed?

\GxsmNote{
I would appreciate if one of the current SARLS group members could
figure out more about this piece of code.
}

%% OptPlugInHints
%Any tips and tricks?

\index{C-PlugIn!math/misc/findlocmax.C}
\index{PlugIn!findlocmax}
\index{GXSM-Menu!Math/Misc/Find Loc Max}
\subsubsection{Info for Plug-In: Math/Misc/Find Loc Max }
\begin{tabbing}
Plug-In name:   \= M. Langer?findlocmax \= Email: \= x \kill
Plug-In name:   \> findlocmax\>  File:  \> math/misc/findlocmax.C\\
Author:	        \> M. Langer?\>  Email: \> stefan\_fkp@users.sf.net\\
\end{tabbing}



% Subdirectory: ./plug-ins/math/transform
% ------------------------------------------------------------

\chapter{Plug-Ins: math/transform}

% Inclusion of PlugInClassIntro: ./plug-ins/math/transform/PlugInClass.doc


The \emph{math/transformation} plugins are all type of math doing
geometric transformations with the image like rotation, scaling, etc.

% PlugIn: ./plug-ins/math/transform/shear_y.C
% ------------------------------------------------------------

\section{Shear along Y}
% Name=shear\_y
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Transformation/Shear Y

\label{pi:sheary}
\subsubsection{Description}

To shear a image along Y use this transformation.

\subsubsection{Usage}

Call \GxsmMenu{Math/Transformation/Shear Y} and fill in the shear
angle as prompted.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Destination}

The computation result is placed into an existing math channel, else into a new created math channel.

%% OptPlugInConfig
%

\index{C-PlugIn!math/transform/shear\_y.C}
\index{PlugIn!shear\_y}
\index{GXSM-Menu!Math/Transformation/Shear Y}
\subsubsection{Info for Plug-In: Math/Transformation/Shear Y }
\begin{tabbing}
Plug-In name:   \= Percy Zahlshear\_y \= Email: \= x \kill
Plug-In name:   \> shear\_y\>  File:  \> math/transform/shear\_y.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/transform/autoalign.C
% ------------------------------------------------------------

\section{Auto Align Multi Dimensional Movie}
% Name=autoalign
% Author=Percy Zahl, P. Thev\'enaz, U.E. Ruttimann, M. Unser
% Email=zahl@users.sf.net
% Menupath=Math/Transformations/Auto Align

\label{pi:autoalign}
\subsubsection{Description}

The purpose of this method is to autoalign image series in multiple dimensions, i.e. to correct for image drift.
The GXSM autoalign Plug-In does automatic image alignment for translation,
scaled rotation, ridig body and affine transformation, of an image series
in time and layer domain (i.e. for drift correction).
The underlying algorithm of this code is based on the following paper,
implemented as GXSM-Plugin, ported from JAVA to C++, optimized and multithreaded by P. Zahl.

\subsubsection{Usage}

Activate the movie and run it.

%% OptPlugInSection: replace this by the section caption

%% OptPlugInSubSection: replace this line by the subsection caption

%% you can repeat OptPlugIn(Sub)Sections multiple times!

%% OptPlugInSources

%% OptPlugInObjects
%A optional rectangle is used for data extraction...

%% OptPlugInDest
%The computation result is placed into an existing math channel, else into a new created math channel.

%% OptPlugInConfig
%describe the configuration options of your plug in here!

%% OptPlugInFiles
%Does it uses, needs, creates any files? Put info here!

%% OptPlugInRefs
This work is based on the following paper:

P. Thev\'enaz, U.E. Ruttimann, M. Unser
A Pyramid Approach to Subpixel Registration Based on Intensity
IEEE Transactions on Image Processing
vol. 7, no. 1, pp. 27-41, January 1998.

This paper is available on-line at
http://bigwww.epfl.ch/publications/thevenaz9801.html

Other relevant on-line publications are available at
http://bigwww.epfl.ch/publications/

Additional help available at
http://bigwww.epfl.ch/thevenaz/turboreg/

You'll be free to use this software for research purposes, but
you should not redistribute it without our consent. In addition,
we expect you to include a citation or acknowledgment of both projects whenever
you present or publish results that are based on it.

%% OptPlugInKnownBugs
%Are there known bugs? List! How to work around if not fixed?

%% OptPlugInNotes
%If you have any additional notes

%% OptPlugInHints
%Any tips and tricks?

\index{C-PlugIn!math/transform/autoalign.C}
\index{PlugIn!autoalign}
\index{GXSM-Menu!Math/Transformations/Auto Align}
\subsubsection{Info for Plug-In: Math/Transformations/Auto Align }
\begin{tabbing}
Plug-In name:   \= Percy Zahl, P. Thev\'enaz, U.E. Ruttimann, M. Unserautoalign \= Email: \= x \kill
Plug-In name:   \> autoalign\>  File:  \> math/transform/autoalign.C\\
Author:	        \> Percy Zahl, P. Thev\'enaz, U.E. Ruttimann, M. Unser\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/transform/merge_h.C
% ------------------------------------------------------------

\section{Horizontal merge}
% Name=merge\_h
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Transformations/Merge H

\label{pi:mergeh}
\subsubsection{Description}

Used to horizontal merge to scans together. The scan are expected to
have same height.

\subsubsection{Usage}

Call \GxsmMenu{Math/Transformations/Merge H}.

\subsubsection{Sources}

The active and X channel are merged.

%% OptPlugInObjects
%A optional rectangle is used for data extraction...

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel.

%% OptPlugInConfig
%describe the configuration options of your plug in here!

%% OptPlugInNotes
%The scan are expected to have same height.

\index{C-PlugIn!math/transform/merge\_h.C}
\index{PlugIn!merge\_h}
\index{GXSM-Menu!Math/Transformations/Merge H}
\subsubsection{Info for Plug-In: Math/Transformations/Merge H }
\begin{tabbing}
Plug-In name:   \= Percy Zahlmerge\_h \= Email: \= x \kill
Plug-In name:   \> merge\_h\>  File:  \> math/transform/merge\_h.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/transform/mandriftfix.C
% ------------------------------------------------------------

\section{Auto Align}
% Name=mandriftfix
% Author=Percy Zahl
% Email=zahl@gxsm.sf.net
% Menupath=Math/Transformations/Auto Align

\label{pi:mandriftfix}
\subsubsection{Description}

Apply a simple drift in pixels per frame.

\subsubsection{Usage}

Figure out the drift inbetween frames in pixels in X and Y dimension to compensate for.

%% OptPlugInSection: replace this by the section caption
%all following lines until next tag are going into this section
%...

%% OptPlugInSubSection: replace this line by the subsection caption
%all following lines until next tag are going into this subsection
%...

%% you can repeat OptPlugIn(Sub)Sections multiple times!

%% OptPlugInSources
%The active channel is used as data source.

%% OptPlugInObjects
%A optional rectangle is used for data extraction...

%% OptPlugInDest
%The computation result is placed into an existing math channel, else into a new created math channel.

%% OptPlugInConfig
%describe the configuration options of your plug in here!

%% OptPlugInFiles
%Does it uses, needs, creates any files? Put info here!

%% OptPlugInRefs
%Any references?

%% OptPlugInKnownBugs
%Are there known bugs? List! How to work around if not fixed?

%% OptPlugInNotes
%If you have any additional notes

%% OptPlugInHints
%Any tips and tricks?

\index{C-PlugIn!math/transform/mandriftfix.C}
\index{PlugIn!mandriftfix}
\index{GXSM-Menu!Math/Transformations/Auto Align}
\subsubsection{Info for Plug-In: Math/Transformations/Auto Align }
\begin{tabbing}
Plug-In name:   \= Percy Zahlmandriftfix \= Email: \= x \kill
Plug-In name:   \> mandriftfix\>  File:  \> math/transform/mandriftfix.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@gxsm.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/transform/rotate.C
% ------------------------------------------------------------

\section{Rotate a scan area}
% Name=rotate
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Transformation/Rotate

\label{pi:rotate}
\subsubsection{Description}

To rotate a selected area select a \GxsmEmph{Rectangle} of the area to
be rotated into. Think inverse, the result is the cropped area of the
source scan, which is rotated before around the center of the selected
area. If needed data points are outside, they are replaced by the
value found a the closed edge.

\subsubsection{Usage}

Place a rectangle object and call
\GxsmMenu{Math/Transformation/Rotate}. It prompts for the rotation
angle (clockwise) if not set to any other default than zero via the
PlugIn configurator.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Objects}

A rectangle object is needed.

\subsubsection{Destination}

The computation result is placed into an existing math channel, else into a new created math channel.

\subsubsection{Configuration}

The PlugIn configurator allows to set a default angle. If this is non
zero the user is not prompted for a rotation angle!

\index{C-PlugIn!math/transform/rotate.C}
\index{PlugIn!rotate}
\index{GXSM-Menu!Math/Transformation/Rotate}
\subsubsection{Info for Plug-In: Math/Transformation/Rotate }
\begin{tabbing}
Plug-In name:   \= Percy Zahlrotate \= Email: \= x \kill
Plug-In name:   \> rotate\>  File:  \> math/transform/rotate.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/transform/scalescan.C
% ------------------------------------------------------------

\section{Scale scan in X and Y}
% Name=scalescan
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Transformations/Scale Scan

\label{pi:scalescan}
\subsubsection{Description}

This filter scales the scan by given factors in X and Y. The resulting
pixel value is computated by using a 2d linear approximatione inbetween
neigbour points.

\subsubsection{Usage}

Call \GxsmMenu{Math/Transformations/Scale Scan}

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Destination}

The computation result is placed into an existing math channel, else into a new created math channel.

%% OptPlugInConfig
%describe the configuration options of your plug in here!

\index{C-PlugIn!math/transform/scalescan.C}
\index{PlugIn!scalescan}
\index{GXSM-Menu!Math/Transformations/Scale Scan}
\subsubsection{Info for Plug-In: Math/Transformations/Scale Scan }
\begin{tabbing}
Plug-In name:   \= Percy Zahlscalescan \= Email: \= x \kill
Plug-In name:   \> scalescan\>  File:  \> math/transform/scalescan.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/transform/shiftarea.C
% ------------------------------------------------------------

\section{Transformation Shift-Area}
% Name=shiftarea
% Author=Stefan Schr\"oder
% Email=stefan\_fkp@users.sf.net
% Menupath=Math/Transformation/Shift Area

\label{pi:shiftarea}
\subsubsection{Description}


This plugin shifts the lower part of a scan with respect to the upper
part, according to a chosen line.

\subsubsection{Usage}

Choose a line Object an connect the two points with your line, that shall
be brought together. The green point must be lower than the red one.

\subsubsection{Sources}

You need one active scan and a line object. Rectangle works two, the
diagonal will work like the line.

\subsubsection{Objects}

If a rectangle is selected the calculated information applies to the
content of the rectangle. Otherwise, the whole scan is analyzed.

\subsubsection{Destination}

A new scan will be created, which contains the unchanged upper part and the
shifted lower part, connected. 

%% OptPlugInConfig
%None.

%% OptPlugInKnownBugs
%None?

%% OptPlugInNotes
%None.
\index{C-PlugIn!math/transform/shiftarea.C}
\index{PlugIn!shiftarea}
\index{GXSM-Menu!Math/Transformation/Shift Area}
\subsubsection{Info for Plug-In: Math/Transformation/Shift Area }
\begin{tabbing}
Plug-In name:   \= Stefan Schr\"odershiftarea \= Email: \= x \kill
Plug-In name:   \> shiftarea\>  File:  \> math/transform/shiftarea.C\\
Author:	        \> Stefan Schr\"oder\>  Email: \> stefan\_fkp@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/transform/affine.C
% ------------------------------------------------------------

\section{Affine Transformation}
% Name=affine
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Transformation/Affine

\label{pi:affine}
\subsubsection{Description}

In case you want to undo a linear distorsion of an image (e.g. slow
and contineous drift/creep) this transformation helps. It applies a
affine transformation to the image, e.g. two arbitrary oriented
vectors (and the image) are transformed to be a orthogonal system
afterwards.

\subsubsection{Usage}

Use a \GxsmEmph{Ksys} to set the vectors. The relative lenght between
both is ignored, they are normalized before.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Objects}

A Ksys object is used for setting the two vectors.

\subsubsection{Destination}

The computation result is placed into an existing math channel, else into a new created math channel.

%% OptPlugInConfig
%

%% OptPlugInFiles
%Does it uses, needs, creates any files? Put info here!

%% OptPlugInKnownBugs
%

\GxsmNote{
If the image is rotated or flipped more than expected, try flipping the Ksys!
I know it's a bit tricky, good ideas to fix this are welcome!
}

%% OptPlugInHints
%

\index{C-PlugIn!math/transform/affine.C}
\index{PlugIn!affine}
\index{GXSM-Menu!Math/Transformation/Affine}
\subsubsection{Info for Plug-In: Math/Transformation/Affine }
\begin{tabbing}
Plug-In name:   \= Percy Zahlaffine \= Email: \= x \kill
Plug-In name:   \> affine\>  File:  \> math/transform/affine.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/transform/quenchscan.C
% ------------------------------------------------------------

\section{Quench Scan}
% Name=quenchscan
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Transformations/Quench Scan

\label{pi:quenchscan}
\subsubsection{Description}

This filter quenches the scan to half size, therefor 2x2 pixels are
averaged.

\subsubsection{Usage}

Call \GxsmMenu{Math/Transformation/Quench Scan}.

\subsubsection{Sources}

The active channel is used as data source.

%% OptPlugInObjects

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel.

%% OptPlugInConfig
%describe the configuration options of your plug in here!

\index{C-PlugIn!math/transform/quenchscan.C}
\index{PlugIn!quenchscan}
\index{GXSM-Menu!Math/Transformations/Quench Scan}
\subsubsection{Info for Plug-In: Math/Transformations/Quench Scan }
\begin{tabbing}
Plug-In name:   \= Percy Zahlquenchscan \= Email: \= x \kill
Plug-In name:   \> quenchscan\>  File:  \> math/transform/quenchscan.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/transform/autoalign_stack_reg.C
% ------------------------------------------------------------

% PlugIn: ./plug-ins/math/transform/mirror_y.C
% ------------------------------------------------------------

\section{Mirror Y}
% Name=mirror\_y
% Author=A. Klust, P. Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Transformations/Mirror Y

\label{pi:mirrory}
\subsubsection{Description}

Mirror scan along Y.

\subsubsection{Usage}

Call \GxsmMenu{Math/Transformations/Mirror Y}.

\subsubsection{Sources}

The active channel is used as data source.

%% OptPlugInObjects
%A optional rectangle is used for data extraction...

\subsubsection{Destination}

The computation result is placed into an existing math channel, else into a new created math channel.

%% OptPlugInConfig
%describe the configuration options of your plug in here!

%% OptPlugInFiles
%Does it uses, needs, creates any files? Put info here!

\index{C-PlugIn!math/transform/mirror\_y.C}
\index{PlugIn!mirror\_y}
\index{GXSM-Menu!Math/Transformations/Mirror Y}
\subsubsection{Info for Plug-In: Math/Transformations/Mirror Y }
\begin{tabbing}
Plug-In name:   \= A. Klust, P. Zahlmirror\_y \= Email: \= x \kill
Plug-In name:   \> mirror\_y\>  File:  \> math/transform/mirror\_y.C\\
Author:	        \> A. Klust, P. Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/transform/merge_v.C
% ------------------------------------------------------------

\section{Vertical merge}
% Name=merge\_v
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Transformations/Merge V

\label{pi:mergev}
\subsubsection{Description}

Used to vertically merge two scans together. The scan are expected to have same width.

\subsubsection{Usage}

Call \GxsmMenu{Math/Transformations/Merge V}.

\subsubsection{Sources}

The active and X channel are merged.

%% OptPlugInObjects
%A optional rectangle is used for data extraction...

\subsubsection{Destination}

The computation result is placed into an existing math channel, else
into a new created math channel.

%% OptPlugInNotes
%The scan are expected to have same height.

\index{C-PlugIn!math/transform/merge\_v.C}
\index{PlugIn!merge\_v}
\index{GXSM-Menu!Math/Transformations/Merge V}
\subsubsection{Info for Plug-In: Math/Transformations/Merge V }
\begin{tabbing}
Plug-In name:   \= Percy Zahlmerge\_v \= Email: \= x \kill
Plug-In name:   \> merge\_v\>  File:  \> math/transform/merge\_v.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/transform/rotate90.C
% ------------------------------------------------------------

\section{90$^\circ$ clockwise rotation}
% Name=rotate90
% Author=Andreas Klust
% Email=klust@users.sf.net
% Menupath=math-transformations-sectionRotate 90deg

\label{pi:rotate90}
\subsubsection{Description}

This plug-in rotates the active scan clockwise by 90$^\circ$.

\subsubsection{Usage}



%% OptPlugInSection: replace this by the section caption
%all following lines until next tag are going into this section
%...

%% OptPlugInSubSection: replace this line by the subsection caption
%all following lines until next tag are going into this subsection
%...

%% you can repeat OptPlugIn(Sub)Sections multiple times!

%% OptPlugInSources
%The active channel is used as data source.

%% OptPlugInObjects
%A optional rectangle is used for data extraction...

%% OptPlugInDest
%The computation result is placed into an existing math channel, else into a new created math channel.

%% OptPlugInConfig
%describe the configuration options of your plug in here!

%% OptPlugInFiles
%Does it uses, needs, creates any files? Put info here!

%% OptPlugInRefs
%Any references?

%% OptPlugInKnownBugs
%Are there known bugs? List! How to work around if not fixed?

%% OptPlugInNotes The plug-in was mainly written to facilitate
background corrections such as line regression of scans with the scan
direction up-down instead of left-right.  Just rottate the scan and
apply the usual background correction functions.

%% OptPlugInHints
%Any tips and tricks?

\index{C-PlugIn!math/transform/rotate90.C}
\index{PlugIn!rotate90}
\index{GXSM-Menu!math-transformations-sectionRotate 90deg}
\subsubsection{Info for Plug-In: math-transformations-sectionRotate 90deg }
\begin{tabbing}
Plug-In name:   \= Andreas Klustrotate90 \= Email: \= x \kill
Plug-In name:   \> rotate90\>  File:  \> math/transform/rotate90.C\\
Author:	        \> Andreas Klust\>  Email: \> klust@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/transform/flip_diagonal.C
% ------------------------------------------------------------

\section{Flip diagonal}
% Name=flip\_diagonal
% Author=A. Klust, P. Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Transformations/Flip Diagonal

\label{pi:flipdiagonal}
\subsubsection{Description}

Flips an image along it's diagonale.

\subsubsection{Usage}

Call \GxsmMenu{Math/Transformations/Flip Diagonal}.

\subsubsection{Sources}

The active channel is used as data source.

%% OptPlugInObjects
%A optional rectangle is used for data extraction...

%% OptPlugInDest
%The computation result is placed into an existing math channel, else into a new created math channel.

%% OptPlugInConfig
%describe the configuration options of your plug in here!

\index{C-PlugIn!math/transform/flip\_diagonal.C}
\index{PlugIn!flip\_diagonal}
\index{GXSM-Menu!Math/Transformations/Flip Diagonal}
\subsubsection{Info for Plug-In: Math/Transformations/Flip Diagonal }
\begin{tabbing}
Plug-In name:   \= A. Klust, P. Zahlflip\_diagonal \= Email: \= x \kill
Plug-In name:   \> flip\_diagonal\>  File:  \> math/transform/flip\_diagonal.C\\
Author:	        \> A. Klust, P. Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/transform/OctoCorr.C
% ------------------------------------------------------------

\section{SPA--LEED octopole distorsion correction}
% Name=OctoCorr
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Transformation/Octo Corr

\label{pi:OctoCorr}
\subsubsection{Description}

This is a experimental filter to reduce the SPA--LEED typical octopole
cuishion distorsion using a "ab-initio" like approch.  This plugin
applies the inverse of this distorsion to any image.

Input parameters are: Energy, Stepsize and Origin (invariant Point, if
not set the user is prompted for coordinates!).  A free parameter $b$
(distorsion strength, may be left at default value (-0.4)).

\subsubsection{Usage}

Place a point object and call \GxsmMenu{Math/Transformation/Octo
Corr}.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Objects}

A point object is needed to mark the center of distorsion symmetry
(invariant point).

\subsubsection{Destination}

The computation result is placed into an existing math channel, 
else into a new created math channel.

%% OptPlugInConfig
%

%% OptPlugInNotes
%

%% OptPlugInHints
%

\index{C-PlugIn!math/transform/OctoCorr.C}
\index{PlugIn!OctoCorr}
\index{GXSM-Menu!Math/Transformation/Octo Corr}
\subsubsection{Info for Plug-In: Math/Transformation/Octo Corr }
\begin{tabbing}
Plug-In name:   \= Percy ZahlOctoCorr \= Email: \= x \kill
Plug-In name:   \> OctoCorr\>  File:  \> math/transform/OctoCorr.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/transform/unwrap.C
% ------------------------------------------------------------

\section{Unwraps Z data in given range}
% Name=unwrap
% Author=P. Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Transformations/Unwrap

\label{pi:unwrap}
\subsubsection{Description}

Flips an image along it's diagonale.

\subsubsection{Usage}

Call \GxsmMenu{Math/Transformations/Unwarp}.

\subsubsection{Sources}

The active channel is used as data source.

%% OptPlugInObjects
%A optional rectangle is used for data extraction...

%% OptPlugInDest
%The computation result is placed into an existing math channel, else into a new created math channel.

%% OptPlugInConfig
%describe the configuration options of your plug in here!

\index{C-PlugIn!math/transform/unwrap.C}
\index{PlugIn!unwrap}
\index{GXSM-Menu!Math/Transformations/Unwrap}
\subsubsection{Info for Plug-In: Math/Transformations/Unwrap }
\begin{tabbing}
Plug-In name:   \= P. Zahlunwrap \= Email: \= x \kill
Plug-In name:   \> unwrap\>  File:  \> math/transform/unwrap.C\\
Author:	        \> P. Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/transform/shear_x.C
% ------------------------------------------------------------

\section{Shear along X}
% Name=shear\_x
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Transformation/Shear X

\label{pi:shearx}
\subsubsection{Description}

To shear a image along X use this transformation.

\subsubsection{Usage}

Call \GxsmMenu{Math/Transformation/Shear X} and fill in the shear
angle as prompted.

\subsubsection{Sources}

The active channel is used as data source.

\subsubsection{Destination}

The computation result is placed into an existing math channel, else into a new created math channel.

%% OptPlugInConfig
%

\index{C-PlugIn!math/transform/shear\_x.C}
\index{PlugIn!shear\_x}
\index{GXSM-Menu!Math/Transformation/Shear X}
\subsubsection{Info for Plug-In: Math/Transformation/Shear X }
\begin{tabbing}
Plug-In name:   \= Percy Zahlshear\_x \= Email: \= x \kill
Plug-In name:   \> shear\_x\>  File:  \> math/transform/shear\_x.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/transform/multi_dim_transpose.C
% ------------------------------------------------------------

\section{Multi Dimensional Transposition}
% Name=multi\_dim\_transpose
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=math-transformations-sectionMulti Dim Transpose

\label{pi:multidimtranspose}
\subsubsection{Description}

For now this tool swappes time and layer dimensions.

\subsubsection{Usage}

Activate a channel and run it.

%% OptPlugInSection: replace this by the section caption
%all following lines until next tag are going into this section
%...

%% OptPlugInSubSection: replace this line by the subsection caption
%all following lines until next tag are going into this subsection
%...

%% you can repeat OptPlugIn(Sub)Sections multiple times!

%% OptPlugInSources
%The active channel is used as data source.

%% OptPlugInObjects
%A optional rectangle is used for data extraction...

%% OptPlugInDest
%The computation result is placed into an existing math channel, else into a new created math channel.

%% OptPlugInConfig
%describe the configuration options of your plug in here!

%% OptPlugInFiles
%Does it uses, needs, creates any files? Put info here!

%% OptPlugInRefs
%Any references?

%% OptPlugInKnownBugs
%Are there known bugs? List! How to work around if not fixed?

%% OptPlugInNotes
%If you have any additional notes

%% OptPlugInHints
%Any tips and tricks?

\index{C-PlugIn!math/transform/multi\_dim\_transpose.C}
\index{PlugIn!multi\_dim\_transpose}
\index{GXSM-Menu!math-transformations-sectionMulti Dim Transpose}
\subsubsection{Info for Plug-In: math-transformations-sectionMulti Dim Transpose }
\begin{tabbing}
Plug-In name:   \= Percy Zahlmulti\_dim\_transpose \= Email: \= x \kill
Plug-In name:   \> multi\_dim\_transpose\>  File:  \> math/transform/multi\_dim\_transpose.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/transform/mirror_x.C
% ------------------------------------------------------------

\section{Mirror X}
% Name=mirror\_x
% Author= A. Klust, P. Zahl
% Email=zahl@users.sf.net
% Menupath=Math/Transformations/Mirror X

\label{pi:mirrorx}
\subsubsection{Description}

Mirrors a image along X.

\subsubsection{Usage}

Call \GxsmMenu{Math/Transformations/Mirror X}.

\subsubsection{Sources}

The active channel is used as data source.

%% OptPlugInObjects
%A optional rectangle is used for data extraction...

\subsubsection{Destination}

The computation result is placed into an existing math channel, else into a new created math channel.

%% OptPlugInConfig
%describe the configuration options of your plug in here!

%% OptPlugInFiles
%Does it uses, needs, creates any files? Put info here!

\index{C-PlugIn!math/transform/mirror\_x.C}
\index{PlugIn!mirror\_x}
\index{GXSM-Menu!Math/Transformations/Mirror X}
\subsubsection{Info for Plug-In: Math/Transformations/Mirror X }
\begin{tabbing}
Plug-In name:   \=  A. Klust, P. Zahlmirror\_x \= Email: \= x \kill
Plug-In name:   \> mirror\_x\>  File:  \> math/transform/mirror\_x.C\\
Author:	        \>  A. Klust, P. Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/transform/reverse_layers.C
% ------------------------------------------------------------

\section{Multi Dimensional Layer Reverse}
% Name=reverse\_layers
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=math-transformations-sectionReverse Layers

\label{pi:reverselayers}
\subsubsection{Description}

Reverse Layer Order.

\subsubsection{Usage}

Activate a channel and run it.

%% OptPlugInSection: replace this by the section caption
%all following lines until next tag are going into this section
%...

%% OptPlugInSubSection: replace this line by the subsection caption
%all following lines until next tag are going into this subsection
%...

%% you can repeat OptPlugIn(Sub)Sections multiple times!

%% OptPlugInSources
%The active channel is used as data source.

%% OptPlugInObjects
%A optional rectangle is used for data extraction...

%% OptPlugInDest
%The computation result is placed into an existing math channel, else into a new created math channel.

%% OptPlugInConfig
%describe the configuration options of your plug in here!

%% OptPlugInFiles
%Does it uses, needs, creates any files? Put info here!

%% OptPlugInRefs
%Any references?

%% OptPlugInKnownBugs
%Are there known bugs? List! How to work around if not fixed?

%% OptPlugInNotes
%If you have any additional notes

%% OptPlugInHints
%Any tips and tricks?

\index{C-PlugIn!math/transform/reverse\_layers.C}
\index{PlugIn!reverse\_layers}
\index{GXSM-Menu!math-transformations-sectionReverse Layers}
\subsubsection{Info for Plug-In: math-transformations-sectionReverse Layers }
\begin{tabbing}
Plug-In name:   \= Percy Zahlreverse\_layers \= Email: \= x \kill
Plug-In name:   \> reverse\_layers\>  File:  \> math/transform/reverse\_layers.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/transform/autoalign_turbo_reg.C
% ------------------------------------------------------------

% PlugIn: ./plug-ins/math/transform/volume_transform.C
% ------------------------------------------------------------

\section{Volume Transform}
% Name=volume\_transform
% Author=Percy Zahl
% Email=zahl@users.sf.net
% Menupath=math-transformations-sectionVolume Transform

\label{pi:volumetransform}
\subsubsection{Description}

Transform/Rotate a XY-Layer set/volume along any given axis laying in XY plane by theta. A new data set with same layer number (or any given) is computed my linear (1st order) interpolation of data.

\subsubsection{Usage}

Activate a channel and run it. Needs volumetric data, i.e. a set of images in layer dimension

%% OptPlugInSection: replace this by the section caption
%all following lines until next tag are going into this section
%...

%% OptPlugInSubSection: replace this line by the subsection caption
%all following lines until next tag are going into this subsection
%...

%% you can repeat OptPlugIn(Sub)Sections multiple times!

%% OptPlugInSources
%The active channel is used as data source.

%% OptPlugInObjects
%A optional rectangle is used for data extraction...

%% OptPlugInDest
%The computation result is placed into an existing math channel, else into a new created math channel.

%% OptPlugInConfig
%describe the configuration options of your plug in here!

%% OptPlugInFiles
%Does it uses, needs, creates any files? Put info here!

%% OptPlugInRefs
%Any references?

%% OptPlugInKnownBugs
%Are there known bugs? List! How to work around if not fixed?

%% OptPlugInNotes
%If you have any additional notes

%% OptPlugInHints
%Any tips and tricks?

\index{C-PlugIn!math/transform/volume\_transform.C}
\index{PlugIn!volume\_transform}
\index{GXSM-Menu!math-transformations-sectionVolume Transform}
\subsubsection{Info for Plug-In: math-transformations-sectionVolume Transform }
\begin{tabbing}
Plug-In name:   \= Percy Zahlvolume\_transform \= Email: \= x \kill
Plug-In name:   \> volume\_transform\>  File:  \> math/transform/volume\_transform.C\\
Author:	        \> Percy Zahl\>  Email: \> zahl@users.sf.net\\
\end{tabbing}

% PlugIn: ./plug-ins/math/transform/movieconcat.C
% ------------------------------------------------------------

\section{Movie Concat}
% Name=movieconcat
% Author=Percy Zahl
% Email=zahl@users.sourceforge.net
% Menupath=math-transformations-sectionMovie Concat

\label{pi:movieconcat}
\subsubsection{Description}

Movie Concat allows to concatenate two movie data set in time with a
choosen range in time and in layers of both sources. The number of
layers choosen for each must match.

\subsubsection{Usage}


%% OptPlugInSection: replace this by the section caption
%all following lines until next tag are going into this section

%% OptPlugInSubSection: replace this line by the subsection caption
%all following lines until next tag are going into this subsection

%% you can repeat OptPlugIn(Sub)Sections multiple times!

%% OptPlugInSources
The active and X marked channels are used as data sources.

%% OptPlugInObjects
%A optional rectangle is used for data extraction...

%% OptPlugInDest
%The computation result is placed into an existing math channel, else into a new created math channel.

%% OptPlugInConfig
%describe the configuration options of your plug in here!

%% OptPlugInFiles
%Does it uses, needs, creates any files? Put info here!

%% OptPlugInRefs
%Any references?

%% OptPlugInKnownBugs
%Are there known bugs? List! How to work around if not fixed?

%% OptPlugInNotes
%If you have any additional notes

%% OptPlugInHints
%Any tips and tricks?

\index{C-PlugIn!math/transform/movieconcat.C}
\index{PlugIn!movieconcat}
\index{GXSM-Menu!math-transformati